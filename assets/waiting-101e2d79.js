import{g as p,r as n,f as c,o as _,S as v,a as d,c as f,e as g,b as u}from"./index-c4b5a781.js";const h={class:"loader-container"},x=u("div",{class:"loader"},null,-1),y=u("h1",null," Please wait for your opoenent to accept your invite...... ",-1),B={__name:"waiting",setup(S){const o=p(),r=n(""),s=n(""),a=n(),i=c.database().ref("teams"),l=c.database().ref("invite_requests");_(()=>{if(localStorage.getItem("xox_user")!=null&&localStorage.getItem("teamName")!=null){r.value=JSON.parse(localStorage.getItem("xox_user")),s.value=JSON.parse(localStorage.getItem("teamName"));let t=s.value;a.value=t.split("-")}else o.proxy.$router.push("/");i.on("value",t=>{const e=t.val();e&&e.hasOwnProperty(s.value)&&o.proxy.$router.push("/play")}),l.on("value",t=>{const e=t.val();e&&m(e)})});const m=t=>{let e=t;e!==void 0&&e.hasOwnProperty(a.value[0])&&e[a.value[0]].is_accepted==2&&v.fire({title:"Your invitation denied !",text:"Select another oponent",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2a8c00",cancelButtonColor:"#d33",confirmButtonText:"OK"}).then(async w=>{l.update({[a.value[0]]:{is_accepted:3,from:r.value}}),localStorage.removeItem("teamName"),o.proxy.$router.push("/selectOponent")})};return(t,e)=>(d(),f("div",h,[x,g("          "),y]))}};export{B as default};
