(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Qa(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ee={},Sr=[],Nt=()=>{},d_=()=>!1,f_=/^on[^a-z]/,Bs=t=>f_.test(t),Ya=t=>t.startsWith("onUpdate:"),ze=Object.assign,Ja=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},h_=Object.prototype.hasOwnProperty,ae=(t,e)=>h_.call(t,e),Y=Array.isArray,Ir=t=>Ws(t)==="[object Map]",Wd=t=>Ws(t)==="[object Set]",Z=t=>typeof t=="function",De=t=>typeof t=="string",Hs=t=>typeof t=="symbol",Ie=t=>t!==null&&typeof t=="object",jd=t=>(Ie(t)||Z(t))&&Z(t.then)&&Z(t.catch),Ud=Object.prototype.toString,Ws=t=>Ud.call(t),p_=t=>Ws(t).slice(8,-1),Vd=t=>Ws(t)==="[object Object]",Xa=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,us=Qa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),js=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},m_=/-(\w)/g,kr=js(t=>t.replace(m_,(e,n)=>n?n.toUpperCase():"")),g_=/\B([A-Z])/g,Ur=js(t=>t.replace(g_,"-$1").toLowerCase()),$d=js(t=>t.charAt(0).toUpperCase()+t.slice(1)),Mo=js(t=>t?`on${$d(t)}`:""),or=(t,e)=>!Object.is(t,e),ds=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},gs=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},sa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Qc;const oa=()=>Qc||(Qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Za(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=De(r)?y_(r):Za(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(De(t)||Ie(t))return t}const __=/;(?![^(]*\))/g,w_=/:([^]+)/,v_=/\/\*[^]*?\*\//g;function y_(t){const e={};return t.replace(v_,"").split(__).forEach(n=>{if(n){const r=n.split(w_);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function el(t){let e="";if(De(t))e=t;else if(Y(t))for(let n=0;n<t.length;n++){const r=el(t[n]);r&&(e+=r+" ")}else if(Ie(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const b_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",C_=Qa(b_);function zd(t){return!!t||t===""}const Lo=t=>De(t)?t:t==null?"":Y(t)||Ie(t)&&(t.toString===Ud||!Z(t.toString))?JSON.stringify(t,qd,2):String(t),qd=(t,e)=>e&&e.__v_isRef?qd(t,e.value):Ir(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Wd(e)?{[`Set(${e.size})`]:[...e.values()]}:Ie(e)&&!Y(e)&&!Vd(e)?String(e):e;let At;class E_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=At,!e&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=At;try{return At=this,e()}finally{At=n}}}on(){At=this}off(){At=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function S_(t,e=At){e&&e.active&&e.effects.push(t)}function I_(){return At}const tl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Kd=t=>(t.w&On)>0,Gd=t=>(t.n&On)>0,T_=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=On},x_=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Kd(i)&&!Gd(i)?i.delete(t):e[n++]=i,i.w&=~On,i.n&=~On}e.length=n}},aa=new WeakMap;let li=0,On=1;const la=30;let kt;const nr=Symbol(""),ca=Symbol("");class nl{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,S_(this,r)}run(){if(!this.active)return this.fn();let e=kt,n=In;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=kt,kt=this,In=!0,On=1<<++li,li<=la?T_(this):Yc(this),this.fn()}finally{li<=la&&x_(this),On=1<<--li,kt=this.parent,In=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){kt===this?this.deferStop=!0:this.active&&(Yc(this),this.onStop&&this.onStop(),this.active=!1)}}function Yc(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let In=!0;const Qd=[];function Vr(){Qd.push(In),In=!1}function $r(){const t=Qd.pop();In=t===void 0?!0:t}function st(t,e,n){if(In&&kt){let r=aa.get(t);r||aa.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=tl()),Yd(i)}}function Yd(t,e){let n=!1;li<=la?Gd(t)||(t.n|=On,n=!Kd(t)):n=!t.has(kt),n&&(t.add(kt),kt.deps.push(t))}function nn(t,e,n,r,i,s){const o=aa.get(t);if(!o)return;let c=[];if(e==="clear")c=[...o.values()];else if(n==="length"&&Y(t)){const u=Number(r);o.forEach((d,p)=>{(p==="length"||!Hs(p)&&p>=u)&&c.push(d)})}else switch(n!==void 0&&c.push(o.get(n)),e){case"add":Y(t)?Xa(n)&&c.push(o.get("length")):(c.push(o.get(nr)),Ir(t)&&c.push(o.get(ca)));break;case"delete":Y(t)||(c.push(o.get(nr)),Ir(t)&&c.push(o.get(ca)));break;case"set":Ir(t)&&c.push(o.get(nr));break}if(c.length===1)c[0]&&ua(c[0]);else{const u=[];for(const d of c)d&&u.push(...d);ua(tl(u))}}function ua(t,e){const n=Y(t)?t:[...t];for(const r of n)r.computed&&Jc(r);for(const r of n)r.computed||Jc(r)}function Jc(t,e){(t!==kt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const A_=Qa("__proto__,__v_isRef,__isVue"),Jd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hs)),Xc=P_();function P_(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=de(this);for(let s=0,o=this.length;s<o;s++)st(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(de)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Vr();const r=de(this)[e].apply(this,n);return $r(),r}}),t}function k_(t){const e=de(this);return st(e,"has",t),e.hasOwnProperty(t)}class Xd{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&r===(i?s?V_:nf:s?tf:ef).get(e))return e;const o=Y(e);if(!i){if(o&&ae(Xc,n))return Reflect.get(Xc,n,r);if(n==="hasOwnProperty")return k_}const c=Reflect.get(e,n,r);return(Hs(n)?Jd.has(n):A_(n))||(i||st(e,"get",n),s)?c:Qe(c)?o&&Xa(n)?c:c.value:Ie(c)?i?sf(c):Vs(c):c}}class Zd extends Xd{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(Rr(s)&&Qe(s)&&!Qe(r))return!1;if(!this._shallow&&(!_s(r)&&!Rr(r)&&(s=de(s),r=de(r)),!Y(e)&&Qe(s)&&!Qe(r)))return s.value=r,!0;const o=Y(e)&&Xa(n)?Number(n)<e.length:ae(e,n),c=Reflect.set(e,n,r,i);return e===de(i)&&(o?or(r,s)&&nn(e,"set",n,r):nn(e,"add",n,r)),c}deleteProperty(e,n){const r=ae(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&nn(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Hs(n)||!Jd.has(n))&&st(e,"has",n),r}ownKeys(e){return st(e,"iterate",Y(e)?"length":nr),Reflect.ownKeys(e)}}class R_ extends Xd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const O_=new Zd,N_=new R_,D_=new Zd(!0),rl=t=>t,Us=t=>Reflect.getPrototypeOf(t);function ns(t,e,n=!1,r=!1){t=t.__v_raw;const i=de(t),s=de(e);n||(or(e,s)&&st(i,"get",e),st(i,"get",s));const{has:o}=Us(i),c=r?rl:n?ol:wi;if(o.call(i,e))return c(t.get(e));if(o.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function rs(t,e=!1){const n=this.__v_raw,r=de(n),i=de(t);return e||(or(t,i)&&st(r,"has",t),st(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function is(t,e=!1){return t=t.__v_raw,!e&&st(de(t),"iterate",nr),Reflect.get(t,"size",t)}function Zc(t){t=de(t);const e=de(this);return Us(e).has.call(e,t)||(e.add(t),nn(e,"add",t,t)),this}function eu(t,e){e=de(e);const n=de(this),{has:r,get:i}=Us(n);let s=r.call(n,t);s||(t=de(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?or(e,o)&&nn(n,"set",t,e):nn(n,"add",t,e),this}function tu(t){const e=de(this),{has:n,get:r}=Us(e);let i=n.call(e,t);i||(t=de(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&nn(e,"delete",t,void 0),s}function nu(){const t=de(this),e=t.size!==0,n=t.clear();return e&&nn(t,"clear",void 0,void 0),n}function ss(t,e){return function(r,i){const s=this,o=s.__v_raw,c=de(o),u=e?rl:t?ol:wi;return!t&&st(c,"iterate",nr),o.forEach((d,p)=>r.call(i,u(d),u(p),s))}}function os(t,e,n){return function(...r){const i=this.__v_raw,s=de(i),o=Ir(s),c=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,d=i[t](...r),p=n?rl:e?ol:wi;return!e&&st(s,"iterate",u?ca:nr),{next(){const{value:m,done:g}=d.next();return g?{value:m,done:g}:{value:c?[p(m[0]),p(m[1])]:p(m),done:g}},[Symbol.iterator](){return this}}}}function gn(t){return function(...e){return t==="delete"?!1:this}}function M_(){const t={get(s){return ns(this,s)},get size(){return is(this)},has:rs,add:Zc,set:eu,delete:tu,clear:nu,forEach:ss(!1,!1)},e={get(s){return ns(this,s,!1,!0)},get size(){return is(this)},has:rs,add:Zc,set:eu,delete:tu,clear:nu,forEach:ss(!1,!0)},n={get(s){return ns(this,s,!0)},get size(){return is(this,!0)},has(s){return rs.call(this,s,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:ss(!0,!1)},r={get(s){return ns(this,s,!0,!0)},get size(){return is(this,!0)},has(s){return rs.call(this,s,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:ss(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=os(s,!1,!1),n[s]=os(s,!0,!1),e[s]=os(s,!1,!0),r[s]=os(s,!0,!0)}),[t,n,e,r]}const[L_,F_,B_,H_]=M_();function il(t,e){const n=e?t?H_:B_:t?F_:L_;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(ae(n,i)&&i in r?n:r,i,s)}const W_={get:il(!1,!1)},j_={get:il(!1,!0)},U_={get:il(!0,!1)},ef=new WeakMap,tf=new WeakMap,nf=new WeakMap,V_=new WeakMap;function $_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function z_(t){return t.__v_skip||!Object.isExtensible(t)?0:$_(p_(t))}function Vs(t){return Rr(t)?t:sl(t,!1,O_,W_,ef)}function rf(t){return sl(t,!1,D_,j_,tf)}function sf(t){return sl(t,!0,N_,U_,nf)}function sl(t,e,n,r,i){if(!Ie(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=z_(t);if(o===0)return t;const c=new Proxy(t,o===2?r:n);return i.set(t,c),c}function Tr(t){return Rr(t)?Tr(t.__v_raw):!!(t&&t.__v_isReactive)}function Rr(t){return!!(t&&t.__v_isReadonly)}function _s(t){return!!(t&&t.__v_isShallow)}function of(t){return Tr(t)||Rr(t)}function de(t){const e=t&&t.__v_raw;return e?de(e):t}function af(t){return gs(t,"__v_skip",!0),t}const wi=t=>Ie(t)?Vs(t):t,ol=t=>Ie(t)?sf(t):t;function lf(t){In&&kt&&(t=de(t),Yd(t.dep||(t.dep=tl())))}function cf(t,e){t=de(t);const n=t.dep;n&&ua(n)}function Qe(t){return!!(t&&t.__v_isRef===!0)}function Qn(t){return uf(t,!1)}function q_(t){return uf(t,!0)}function uf(t,e){return Qe(t)?t:new K_(t,e)}class K_{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:de(e),this._value=n?e:wi(e)}get value(){return lf(this),this._value}set value(e){const n=this.__v_isShallow||_s(e)||Rr(e);e=n?e:de(e),or(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:wi(e),cf(this))}}function rr(t){return Qe(t)?t.value:t}const G_={get:(t,e,n)=>rr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Qe(i)&&!Qe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function df(t){return Tr(t)?t:new Proxy(t,G_)}class Q_{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new nl(e,()=>{this._dirty||(this._dirty=!0,cf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=de(this);return lf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Y_(t,e,n=!1){let r,i;const s=Z(t);return s?(r=t,i=Nt):(r=t.get,i=t.set),new Q_(r,i,s||!i,n)}function Tn(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){$s(s,e,n)}return i}function Dt(t,e,n,r){if(Z(t)){const s=Tn(t,e,n,r);return s&&jd(s)&&s.catch(o=>{$s(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Dt(t[s],e,n,r));return i}function $s(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,c=n;for(;s;){const d=s.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](t,o,c)===!1)return}s=s.parent}const u=e.appContext.config.errorHandler;if(u){Tn(u,null,10,[t,o,c]);return}}J_(t,n,i,r)}function J_(t,e,n,r=!0){console.error(t)}let vi=!1,da=!1;const Ge=[];let zt=0;const xr=[];let Zt=null,Xn=0;const ff=Promise.resolve();let al=null;function hf(t){const e=al||ff;return t?e.then(this?t.bind(this):t):e}function X_(t){let e=zt+1,n=Ge.length;for(;e<n;){const r=e+n>>>1,i=Ge[r],s=yi(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function ll(t){(!Ge.length||!Ge.includes(t,vi&&t.allowRecurse?zt+1:zt))&&(t.id==null?Ge.push(t):Ge.splice(X_(t.id),0,t),pf())}function pf(){!vi&&!da&&(da=!0,al=ff.then(gf))}function Z_(t){const e=Ge.indexOf(t);e>zt&&Ge.splice(e,1)}function ew(t){Y(t)?xr.push(...t):(!Zt||!Zt.includes(t,t.allowRecurse?Xn+1:Xn))&&xr.push(t),pf()}function ru(t,e=vi?zt+1:0){for(;e<Ge.length;e++){const n=Ge[e];n&&n.pre&&(Ge.splice(e,1),e--,n())}}function mf(t){if(xr.length){const e=[...new Set(xr)];if(xr.length=0,Zt){Zt.push(...e);return}for(Zt=e,Zt.sort((n,r)=>yi(n)-yi(r)),Xn=0;Xn<Zt.length;Xn++)Zt[Xn]();Zt=null,Xn=0}}const yi=t=>t.id==null?1/0:t.id,tw=(t,e)=>{const n=yi(t)-yi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function gf(t){da=!1,vi=!0,Ge.sort(tw);const e=Nt;try{for(zt=0;zt<Ge.length;zt++){const n=Ge[zt];n&&n.active!==!1&&Tn(n,null,14)}}finally{zt=0,Ge.length=0,mf(),vi=!1,al=null,(Ge.length||xr.length)&&gf()}}function nw(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ee;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const p=`${o==="modelValue"?"model":o}Modifiers`,{number:m,trim:g}=r[p]||Ee;g&&(i=n.map(y=>De(y)?y.trim():y)),m&&(i=n.map(sa))}let c,u=r[c=Mo(e)]||r[c=Mo(kr(e))];!u&&s&&(u=r[c=Mo(Ur(e))]),u&&Dt(u,t,6,i);const d=r[c+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Dt(d,t,6,i)}}function _f(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},c=!1;if(!Z(t)){const u=d=>{const p=_f(d,e,!0);p&&(c=!0,ze(o,p))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!s&&!c?(Ie(t)&&r.set(t,null),null):(Y(s)?s.forEach(u=>o[u]=null):ze(o,s),Ie(t)&&r.set(t,o),o)}function zs(t,e){return!t||!Bs(e)?!1:(e=e.slice(2).replace(/Once$/,""),ae(t,e[0].toLowerCase()+e.slice(1))||ae(t,Ur(e))||ae(t,e))}let bt=null,qs=null;function ws(t){const e=bt;return bt=t,qs=t&&t.type.__scopeId||null,e}function rw(t){qs=t}function iw(){qs=null}function sw(t,e=bt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&hu(-1);const s=ws(e);let o;try{o=t(...i)}finally{ws(s),r._d&&hu(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Fo(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:c,attrs:u,emit:d,render:p,renderCache:m,data:g,setupState:y,ctx:I,inheritAttrs:R}=t;let W,F;const $=ws(t);try{if(n.shapeFlag&4){const V=i||r;W=$t(p.call(V,V,m,s,y,g,I)),F=u}else{const V=e;W=$t(V.length>1?V(s,{attrs:u,slots:c,emit:d}):V(s,null)),F=e.props?u:ow(u)}}catch(V){di.length=0,$s(V,t,1),W=nt(ar)}let J=W;if(F&&R!==!1){const V=Object.keys(F),{shapeFlag:Ae}=J;V.length&&Ae&7&&(o&&V.some(Ya)&&(F=aw(F,o)),J=Or(J,F))}return n.dirs&&(J=Or(J),J.dirs=J.dirs?J.dirs.concat(n.dirs):n.dirs),n.transition&&(J.transition=n.transition),W=J,ws($),W}const ow=t=>{let e;for(const n in t)(n==="class"||n==="style"||Bs(n))&&((e||(e={}))[n]=t[n]);return e},aw=(t,e)=>{const n={};for(const r in t)(!Ya(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function lw(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:c,patchFlag:u}=e,d=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?iu(r,o,d):!!o;if(u&8){const p=e.dynamicProps;for(let m=0;m<p.length;m++){const g=p[m];if(o[g]!==r[g]&&!zs(d,g))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?iu(r,o,d):!0:!!o;return!1}function iu(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!zs(n,s))return!0}return!1}function cw({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const uw=Symbol.for("v-ndc"),dw=t=>t.__isSuspense;function fw(t,e){e&&e.pendingBranch?Y(t)?e.effects.push(...t):e.effects.push(t):ew(t)}const as={};function fs(t,e,n){return wf(t,e,n)}function wf(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=Ee){var c;const u=I_()===((c=$e)==null?void 0:c.scope)?$e:null;let d,p=!1,m=!1;if(Qe(t)?(d=()=>t.value,p=_s(t)):Tr(t)?(d=()=>t,r=!0):Y(t)?(m=!0,p=t.some(V=>Tr(V)||_s(V)),d=()=>t.map(V=>{if(Qe(V))return V.value;if(Tr(V))return er(V);if(Z(V))return Tn(V,u,2)})):Z(t)?e?d=()=>Tn(t,u,2):d=()=>{if(!(u&&u.isUnmounted))return g&&g(),Dt(t,u,3,[y])}:d=Nt,e&&r){const V=d;d=()=>er(V())}let g,y=V=>{g=$.onStop=()=>{Tn(V,u,4)}},I;if(Ci)if(y=Nt,e?n&&Dt(e,u,3,[d(),m?[]:void 0,y]):d(),i==="sync"){const V=sv();I=V.__watcherHandles||(V.__watcherHandles=[])}else return Nt;let R=m?new Array(t.length).fill(as):as;const W=()=>{if($.active)if(e){const V=$.run();(r||p||(m?V.some((Ae,Me)=>or(Ae,R[Me])):or(V,R)))&&(g&&g(),Dt(e,u,3,[V,R===as?void 0:m&&R[0]===as?[]:R,y]),R=V)}else $.run()};W.allowRecurse=!!e;let F;i==="sync"?F=W:i==="post"?F=()=>et(W,u&&u.suspense):(W.pre=!0,u&&(W.id=u.uid),F=()=>ll(W));const $=new nl(d,F);e?n?W():R=$.run():i==="post"?et($.run.bind($),u&&u.suspense):$.run();const J=()=>{$.stop(),u&&u.scope&&Ja(u.scope.effects,$)};return I&&I.push(J),J}function hw(t,e,n){const r=this.proxy,i=De(t)?t.includes(".")?vf(r,t):()=>r[t]:t.bind(r,r);let s;Z(e)?s=e:(s=e.handler,n=e);const o=$e;Nr(this);const c=wf(i,s.bind(r),n);return o?Nr(o):ir(),c}function vf(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function er(t,e){if(!Ie(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Qe(t))er(t.value,e);else if(Y(t))for(let n=0;n<t.length;n++)er(t[n],e);else if(Wd(t)||Ir(t))t.forEach(n=>{er(n,e)});else if(Vd(t))for(const n in t)er(t[n],e);return t}function FI(t,e){const n=bt;if(n===null)return t;const r=Ys(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,c,u,d=Ee]=e[s];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&er(c),i.push({dir:o,instance:r,value:c,oldValue:void 0,arg:u,modifiers:d}))}return t}function Kn(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const c=i[o];s&&(c.oldValue=s[o].value);let u=c.dir[r];u&&(Vr(),Dt(u,n,8,[t.el,c,t,e]),$r())}}/*! #__NO_SIDE_EFFECTS__ */function yf(t,e){return Z(t)?(()=>ze({name:t.name},e,{setup:t}))():t}const hs=t=>!!t.type.__asyncLoader,bf=t=>t.type.__isKeepAlive;function pw(t,e){Cf(t,"a",e)}function mw(t,e){Cf(t,"da",e)}function Cf(t,e,n=$e){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ks(e,r,n),n){let i=n.parent;for(;i&&i.parent;)bf(i.parent.vnode)&&gw(r,e,n,i),i=i.parent}}function gw(t,e,n,r){const i=Ks(e,t,r,!0);If(()=>{Ja(r[e],i)},n)}function Ks(t,e,n=$e,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Vr(),Nr(n);const c=Dt(e,n,t,o);return ir(),$r(),c});return r?i.unshift(s):i.push(s),s}}const cn=t=>(e,n=$e)=>(!Ci||t==="sp")&&Ks(t,(...r)=>e(...r),n),_w=cn("bm"),Ef=cn("m"),ww=cn("bu"),vw=cn("u"),Sf=cn("bum"),If=cn("um"),yw=cn("sp"),bw=cn("rtg"),Cw=cn("rtc");function Ew(t,e=$e){Ks("ec",t,e)}function Sw(t,e,n,r){let i;const s=n&&n[r];if(Y(t)||De(t)){i=new Array(t.length);for(let o=0,c=t.length;o<c;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Ie(t))if(t[Symbol.iterator])i=Array.from(t,(o,c)=>e(o,c,void 0,s&&s[c]));else{const o=Object.keys(t);i=new Array(o.length);for(let c=0,u=o.length;c<u;c++){const d=o[c];i[c]=e(t[d],d,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const fa=t=>t?Ff(t)?Ys(t)||t.proxy:fa(t.parent):null,ui=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fa(t.parent),$root:t=>fa(t.root),$emit:t=>t.emit,$options:t=>cl(t),$forceUpdate:t=>t.f||(t.f=()=>ll(t.update)),$nextTick:t=>t.n||(t.n=hf.bind(t.proxy)),$watch:t=>hw.bind(t)}),Bo=(t,e)=>t!==Ee&&!t.__isScriptSetup&&ae(t,e),Iw={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:c,appContext:u}=t;let d;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Bo(r,e))return o[e]=1,r[e];if(i!==Ee&&ae(i,e))return o[e]=2,i[e];if((d=t.propsOptions[0])&&ae(d,e))return o[e]=3,s[e];if(n!==Ee&&ae(n,e))return o[e]=4,n[e];ha&&(o[e]=0)}}const p=ui[e];let m,g;if(p)return e==="$attrs"&&st(t,"get",e),p(t);if((m=c.__cssModules)&&(m=m[e]))return m;if(n!==Ee&&ae(n,e))return o[e]=4,n[e];if(g=u.config.globalProperties,ae(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Bo(i,e)?(i[e]=n,!0):r!==Ee&&ae(r,e)?(r[e]=n,!0):ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let c;return!!n[o]||t!==Ee&&ae(t,o)||Bo(e,o)||(c=s[0])&&ae(c,o)||ae(r,o)||ae(ui,o)||ae(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ae(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function su(t){return Y(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ha=!0;function Tw(t){const e=cl(t),n=t.proxy,r=t.ctx;ha=!1,e.beforeCreate&&ou(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:c,provide:u,inject:d,created:p,beforeMount:m,mounted:g,beforeUpdate:y,updated:I,activated:R,deactivated:W,beforeDestroy:F,beforeUnmount:$,destroyed:J,unmounted:V,render:Ae,renderTracked:Me,renderTriggered:Ze,errorCaptured:It,serverPrefetch:un,expose:mt,inheritAttrs:Bt,components:Ht,directives:gt,filters:dn}=e;if(d&&xw(d,r,null),o)for(const he in o){const le=o[he];Z(le)&&(r[he]=le.bind(n))}if(i){const he=i.call(n,n);Ie(he)&&(t.data=Vs(he))}if(ha=!0,s)for(const he in s){const le=s[he],Tt=Z(le)?le.bind(n,n):Z(le.get)?le.get.bind(n,n):Nt,G=!Z(le)&&Z(le.set)?le.set.bind(n):Nt,_t=vt({get:Tt,set:G});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>_t.value,set:qe=>_t.value=qe})}if(c)for(const he in c)Tf(c[he],r,n,he);if(u){const he=Z(u)?u.call(n):u;Reflect.ownKeys(he).forEach(le=>{ps(le,he[le])})}p&&ou(p,t,"c");function Re(he,le){Y(le)?le.forEach(Tt=>he(Tt.bind(n))):le&&he(le.bind(n))}if(Re(_w,m),Re(Ef,g),Re(ww,y),Re(vw,I),Re(pw,R),Re(mw,W),Re(Ew,It),Re(Cw,Me),Re(bw,Ze),Re(Sf,$),Re(If,V),Re(yw,un),Y(mt))if(mt.length){const he=t.exposed||(t.exposed={});mt.forEach(le=>{Object.defineProperty(he,le,{get:()=>n[le],set:Tt=>n[le]=Tt})})}else t.exposed||(t.exposed={});Ae&&t.render===Nt&&(t.render=Ae),Bt!=null&&(t.inheritAttrs=Bt),Ht&&(t.components=Ht),gt&&(t.directives=gt)}function xw(t,e,n=Nt){Y(t)&&(t=pa(t));for(const r in t){const i=t[r];let s;Ie(i)?"default"in i?s=rn(i.from||r,i.default,!0):s=rn(i.from||r):s=rn(i),Qe(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function ou(t,e,n){Dt(Y(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Tf(t,e,n,r){const i=r.includes(".")?vf(n,r):()=>n[r];if(De(t)){const s=e[t];Z(s)&&fs(i,s)}else if(Z(t))fs(i,t.bind(n));else if(Ie(t))if(Y(t))t.forEach(s=>Tf(s,e,n,r));else{const s=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(s)&&fs(i,s,t)}}function cl(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,c=s.get(e);let u;return c?u=c:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(d=>vs(u,d,o,!0)),vs(u,e,o)),Ie(e)&&s.set(e,u),u}function vs(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&vs(t,s,n,!0),i&&i.forEach(o=>vs(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=Aw[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const Aw={data:au,props:lu,emits:lu,methods:ci,computed:ci,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:ci,directives:ci,watch:kw,provide:au,inject:Pw};function au(t,e){return e?t?function(){return ze(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function Pw(t,e){return ci(pa(t),pa(e))}function pa(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Je(t,e){return t?[...new Set([].concat(t,e))]:e}function ci(t,e){return t?ze(Object.create(null),t,e):e}function lu(t,e){return t?Y(t)&&Y(e)?[...new Set([...t,...e])]:ze(Object.create(null),su(t),su(e??{})):e}function kw(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const r in e)n[r]=Je(t[r],e[r]);return n}function xf(){return{app:null,config:{isNativeTag:d_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rw=0;function Ow(t,e){return function(r,i=null){Z(r)||(r=ze({},r)),i!=null&&!Ie(i)&&(i=null);const s=xf(),o=new WeakSet;let c=!1;const u=s.app={_uid:Rw++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:ov,get config(){return s.config},set config(d){},use(d,...p){return o.has(d)||(d&&Z(d.install)?(o.add(d),d.install(u,...p)):Z(d)&&(o.add(d),d(u,...p))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,p){return p?(s.components[d]=p,u):s.components[d]},directive(d,p){return p?(s.directives[d]=p,u):s.directives[d]},mount(d,p,m){if(!c){const g=nt(r,i);return g.appContext=s,p&&e?e(g,d):t(g,d,m),c=!0,u._container=d,d.__vue_app__=u,Ys(g.component)||g.component.proxy}},unmount(){c&&(t(null,u._container),delete u._container.__vue_app__)},provide(d,p){return s.provides[d]=p,u},runWithContext(d){ys=u;try{return d()}finally{ys=null}}};return u}}let ys=null;function ps(t,e){if($e){let n=$e.provides;const r=$e.parent&&$e.parent.provides;r===n&&(n=$e.provides=Object.create(r)),n[t]=e}}function rn(t,e,n=!1){const r=$e||bt;if(r||ys){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:ys._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Z(e)?e.call(r&&r.proxy):e}}function Nw(t,e,n,r=!1){const i={},s={};gs(s,Qs,1),t.propsDefaults=Object.create(null),Af(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:rf(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Dw(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,c=de(i),[u]=t.propsOptions;let d=!1;if((r||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let m=0;m<p.length;m++){let g=p[m];if(zs(t.emitsOptions,g))continue;const y=e[g];if(u)if(ae(s,g))y!==s[g]&&(s[g]=y,d=!0);else{const I=kr(g);i[I]=ma(u,c,I,y,t,!1)}else y!==s[g]&&(s[g]=y,d=!0)}}}else{Af(t,e,i,s)&&(d=!0);let p;for(const m in c)(!e||!ae(e,m)&&((p=Ur(m))===m||!ae(e,p)))&&(u?n&&(n[m]!==void 0||n[p]!==void 0)&&(i[m]=ma(u,c,m,void 0,t,!0)):delete i[m]);if(s!==c)for(const m in s)(!e||!ae(e,m))&&(delete s[m],d=!0)}d&&nn(t,"set","$attrs")}function Af(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,c;if(e)for(let u in e){if(us(u))continue;const d=e[u];let p;i&&ae(i,p=kr(u))?!s||!s.includes(p)?n[p]=d:(c||(c={}))[p]=d:zs(t.emitsOptions,u)||(!(u in r)||d!==r[u])&&(r[u]=d,o=!0)}if(s){const u=de(n),d=c||Ee;for(let p=0;p<s.length;p++){const m=s[p];n[m]=ma(i,u,m,d[m],t,!ae(d,m))}}return o}function ma(t,e,n,r,i,s){const o=t[n];if(o!=null){const c=ae(o,"default");if(c&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Z(u)){const{propsDefaults:d}=i;n in d?r=d[n]:(Nr(i),r=d[n]=u.call(null,e),ir())}else r=u}o[0]&&(s&&!c?r=!1:o[1]&&(r===""||r===Ur(n))&&(r=!0))}return r}function Pf(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},c=[];let u=!1;if(!Z(t)){const p=m=>{u=!0;const[g,y]=Pf(m,e,!0);ze(o,g),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!u)return Ie(t)&&r.set(t,Sr),Sr;if(Y(s))for(let p=0;p<s.length;p++){const m=kr(s[p]);cu(m)&&(o[m]=Ee)}else if(s)for(const p in s){const m=kr(p);if(cu(m)){const g=s[p],y=o[m]=Y(g)||Z(g)?{type:g}:ze({},g);if(y){const I=fu(Boolean,y.type),R=fu(String,y.type);y[0]=I>-1,y[1]=R<0||I<R,(I>-1||ae(y,"default"))&&c.push(m)}}}const d=[o,c];return Ie(t)&&r.set(t,d),d}function cu(t){return t[0]!=="$"}function uu(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function du(t,e){return uu(t)===uu(e)}function fu(t,e){return Y(e)?e.findIndex(n=>du(n,t)):Z(e)&&du(e,t)?0:-1}const kf=t=>t[0]==="_"||t==="$stable",ul=t=>Y(t)?t.map($t):[$t(t)],Mw=(t,e,n)=>{if(e._n)return e;const r=sw((...i)=>ul(e(...i)),n);return r._c=!1,r},Rf=(t,e,n)=>{const r=t._ctx;for(const i in t){if(kf(i))continue;const s=t[i];if(Z(s))e[i]=Mw(i,s,r);else if(s!=null){const o=ul(s);e[i]=()=>o}}},Of=(t,e)=>{const n=ul(e);t.slots.default=()=>n},Lw=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=de(e),gs(e,"_",n)):Rf(e,t.slots={})}else t.slots={},e&&Of(t,e);gs(t.slots,Qs,1)},Fw=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Ee;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(ze(i,e),!n&&c===1&&delete i._):(s=!e.$stable,Rf(e,i)),o=e}else e&&(Of(t,e),o={default:1});if(s)for(const c in i)!kf(c)&&o[c]==null&&delete i[c]};function ga(t,e,n,r,i=!1){if(Y(t)){t.forEach((g,y)=>ga(g,e&&(Y(e)?e[y]:e),n,r,i));return}if(hs(r)&&!i)return;const s=r.shapeFlag&4?Ys(r.component)||r.component.proxy:r.el,o=i?null:s,{i:c,r:u}=t,d=e&&e.r,p=c.refs===Ee?c.refs={}:c.refs,m=c.setupState;if(d!=null&&d!==u&&(De(d)?(p[d]=null,ae(m,d)&&(m[d]=null)):Qe(d)&&(d.value=null)),Z(u))Tn(u,c,12,[o,p]);else{const g=De(u),y=Qe(u);if(g||y){const I=()=>{if(t.f){const R=g?ae(m,u)?m[u]:p[u]:u.value;i?Y(R)&&Ja(R,s):Y(R)?R.includes(s)||R.push(s):g?(p[u]=[s],ae(m,u)&&(m[u]=p[u])):(u.value=[s],t.k&&(p[t.k]=u.value))}else g?(p[u]=o,ae(m,u)&&(m[u]=o)):y&&(u.value=o,t.k&&(p[t.k]=o))};o?(I.id=-1,et(I,n)):I()}}}const et=fw;function Bw(t){return Hw(t)}function Hw(t,e){const n=oa();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:c,createComment:u,setText:d,setElementText:p,parentNode:m,nextSibling:g,setScopeId:y=Nt,insertStaticContent:I}=t,R=(w,v,b,S=null,x=null,P=null,L=!1,k=null,N=!!v.dynamicChildren)=>{if(w===v)return;w&&!ni(w,v)&&(S=T(w),qe(w,x,P,!0),w=null),v.patchFlag===-2&&(N=!1,v.dynamicChildren=null);const{type:A,ref:D,shapeFlag:j}=v;switch(A){case Gs:W(w,v,b,S);break;case ar:F(w,v,b,S);break;case Ho:w==null&&$(v,b,S,L);break;case Pt:Ht(w,v,b,S,x,P,L,k,N);break;default:j&1?Ae(w,v,b,S,x,P,L,k,N):j&6?gt(w,v,b,S,x,P,L,k,N):(j&64||j&128)&&A.process(w,v,b,S,x,P,L,k,N,M)}D!=null&&x&&ga(D,w&&w.ref,P,v||w,!v)},W=(w,v,b,S)=>{if(w==null)r(v.el=c(v.children),b,S);else{const x=v.el=w.el;v.children!==w.children&&d(x,v.children)}},F=(w,v,b,S)=>{w==null?r(v.el=u(v.children||""),b,S):v.el=w.el},$=(w,v,b,S)=>{[w.el,w.anchor]=I(w.children,v,b,S,w.el,w.anchor)},J=({el:w,anchor:v},b,S)=>{let x;for(;w&&w!==v;)x=g(w),r(w,b,S),w=x;r(v,b,S)},V=({el:w,anchor:v})=>{let b;for(;w&&w!==v;)b=g(w),i(w),w=b;i(v)},Ae=(w,v,b,S,x,P,L,k,N)=>{L=L||v.type==="svg",w==null?Me(v,b,S,x,P,L,k,N):un(w,v,x,P,L,k,N)},Me=(w,v,b,S,x,P,L,k)=>{let N,A;const{type:D,props:j,shapeFlag:z,transition:Q,dirs:ee}=w;if(N=w.el=o(w.type,P,j&&j.is,j),z&8?p(N,w.children):z&16&&It(w.children,N,null,S,x,P&&D!=="foreignObject",L,k),ee&&Kn(w,null,S,"created"),Ze(N,w,w.scopeId,L,S),j){for(const ce in j)ce!=="value"&&!us(ce)&&s(N,ce,null,j[ce],P,w.children,S,x,Le);"value"in j&&s(N,"value",null,j.value),(A=j.onVnodeBeforeMount)&&Vt(A,S,w)}ee&&Kn(w,null,S,"beforeMount");const pe=Ww(x,Q);pe&&Q.beforeEnter(N),r(N,v,b),((A=j&&j.onVnodeMounted)||pe||ee)&&et(()=>{A&&Vt(A,S,w),pe&&Q.enter(N),ee&&Kn(w,null,S,"mounted")},x)},Ze=(w,v,b,S,x)=>{if(b&&y(w,b),S)for(let P=0;P<S.length;P++)y(w,S[P]);if(x){let P=x.subTree;if(v===P){const L=x.vnode;Ze(w,L,L.scopeId,L.slotScopeIds,x.parent)}}},It=(w,v,b,S,x,P,L,k,N=0)=>{for(let A=N;A<w.length;A++){const D=w[A]=k?yn(w[A]):$t(w[A]);R(null,D,v,b,S,x,P,L,k)}},un=(w,v,b,S,x,P,L)=>{const k=v.el=w.el;let{patchFlag:N,dynamicChildren:A,dirs:D}=v;N|=w.patchFlag&16;const j=w.props||Ee,z=v.props||Ee;let Q;b&&Gn(b,!1),(Q=z.onVnodeBeforeUpdate)&&Vt(Q,b,v,w),D&&Kn(v,w,b,"beforeUpdate"),b&&Gn(b,!0);const ee=x&&v.type!=="foreignObject";if(A?mt(w.dynamicChildren,A,k,b,S,ee,P):L||le(w,v,k,null,b,S,ee,P,!1),N>0){if(N&16)Bt(k,v,j,z,b,S,x);else if(N&2&&j.class!==z.class&&s(k,"class",null,z.class,x),N&4&&s(k,"style",j.style,z.style,x),N&8){const pe=v.dynamicProps;for(let ce=0;ce<pe.length;ce++){const be=pe[ce],xe=j[be],at=z[be];(at!==xe||be==="value")&&s(k,be,xe,at,x,w.children,b,S,Le)}}N&1&&w.children!==v.children&&p(k,v.children)}else!L&&A==null&&Bt(k,v,j,z,b,S,x);((Q=z.onVnodeUpdated)||D)&&et(()=>{Q&&Vt(Q,b,v,w),D&&Kn(v,w,b,"updated")},S)},mt=(w,v,b,S,x,P,L)=>{for(let k=0;k<v.length;k++){const N=w[k],A=v[k],D=N.el&&(N.type===Pt||!ni(N,A)||N.shapeFlag&70)?m(N.el):b;R(N,A,D,null,S,x,P,L,!0)}},Bt=(w,v,b,S,x,P,L)=>{if(b!==S){if(b!==Ee)for(const k in b)!us(k)&&!(k in S)&&s(w,k,b[k],null,L,v.children,x,P,Le);for(const k in S){if(us(k))continue;const N=S[k],A=b[k];N!==A&&k!=="value"&&s(w,k,A,N,L,v.children,x,P,Le)}"value"in S&&s(w,"value",b.value,S.value)}},Ht=(w,v,b,S,x,P,L,k,N)=>{const A=v.el=w?w.el:c(""),D=v.anchor=w?w.anchor:c("");let{patchFlag:j,dynamicChildren:z,slotScopeIds:Q}=v;Q&&(k=k?k.concat(Q):Q),w==null?(r(A,b,S),r(D,b,S),It(v.children,b,D,x,P,L,k,N)):j>0&&j&64&&z&&w.dynamicChildren?(mt(w.dynamicChildren,z,b,x,P,L,k),(v.key!=null||x&&v===x.subTree)&&Nf(w,v,!0)):le(w,v,b,D,x,P,L,k,N)},gt=(w,v,b,S,x,P,L,k,N)=>{v.slotScopeIds=k,w==null?v.shapeFlag&512?x.ctx.activate(v,b,S,L,N):dn(v,b,S,x,P,L,N):fn(w,v,N)},dn=(w,v,b,S,x,P,L)=>{const k=w.component=Jw(w,S,x);if(bf(w)&&(k.ctx.renderer=M),Zw(k),k.asyncDep){if(x&&x.registerDep(k,Re),!w.el){const N=k.subTree=nt(ar);F(null,N,v,b)}return}Re(k,w,v,b,x,P,L)},fn=(w,v,b)=>{const S=v.component=w.component;if(lw(w,v,b))if(S.asyncDep&&!S.asyncResolved){he(S,v,b);return}else S.next=v,Z_(S.update),S.update();else v.el=w.el,S.vnode=v},Re=(w,v,b,S,x,P,L)=>{const k=()=>{if(w.isMounted){let{next:D,bu:j,u:z,parent:Q,vnode:ee}=w,pe=D,ce;Gn(w,!1),D?(D.el=ee.el,he(w,D,L)):D=ee,j&&ds(j),(ce=D.props&&D.props.onVnodeBeforeUpdate)&&Vt(ce,Q,D,ee),Gn(w,!0);const be=Fo(w),xe=w.subTree;w.subTree=be,R(xe,be,m(xe.el),T(xe),w,x,P),D.el=be.el,pe===null&&cw(w,be.el),z&&et(z,x),(ce=D.props&&D.props.onVnodeUpdated)&&et(()=>Vt(ce,Q,D,ee),x)}else{let D;const{el:j,props:z}=v,{bm:Q,m:ee,parent:pe}=w,ce=hs(v);if(Gn(w,!1),Q&&ds(Q),!ce&&(D=z&&z.onVnodeBeforeMount)&&Vt(D,pe,v),Gn(w,!0),j&&ie){const be=()=>{w.subTree=Fo(w),ie(j,w.subTree,w,x,null)};ce?v.type.__asyncLoader().then(()=>!w.isUnmounted&&be()):be()}else{const be=w.subTree=Fo(w);R(null,be,b,S,w,x,P),v.el=be.el}if(ee&&et(ee,x),!ce&&(D=z&&z.onVnodeMounted)){const be=v;et(()=>Vt(D,pe,be),x)}(v.shapeFlag&256||pe&&hs(pe.vnode)&&pe.vnode.shapeFlag&256)&&w.a&&et(w.a,x),w.isMounted=!0,v=b=S=null}},N=w.effect=new nl(k,()=>ll(A),w.scope),A=w.update=()=>N.run();A.id=w.uid,Gn(w,!0),A()},he=(w,v,b)=>{v.component=w;const S=w.vnode.props;w.vnode=v,w.next=null,Dw(w,v.props,S,b),Fw(w,v.children,b),Vr(),ru(),$r()},le=(w,v,b,S,x,P,L,k,N=!1)=>{const A=w&&w.children,D=w?w.shapeFlag:0,j=v.children,{patchFlag:z,shapeFlag:Q}=v;if(z>0){if(z&128){G(A,j,b,S,x,P,L,k,N);return}else if(z&256){Tt(A,j,b,S,x,P,L,k,N);return}}Q&8?(D&16&&Le(A,x,P),j!==A&&p(b,j)):D&16?Q&16?G(A,j,b,S,x,P,L,k,N):Le(A,x,P,!0):(D&8&&p(b,""),Q&16&&It(j,b,S,x,P,L,k,N))},Tt=(w,v,b,S,x,P,L,k,N)=>{w=w||Sr,v=v||Sr;const A=w.length,D=v.length,j=Math.min(A,D);let z;for(z=0;z<j;z++){const Q=v[z]=N?yn(v[z]):$t(v[z]);R(w[z],Q,b,null,x,P,L,k,N)}A>D?Le(w,x,P,!0,!1,j):It(v,b,S,x,P,L,k,N,j)},G=(w,v,b,S,x,P,L,k,N)=>{let A=0;const D=v.length;let j=w.length-1,z=D-1;for(;A<=j&&A<=z;){const Q=w[A],ee=v[A]=N?yn(v[A]):$t(v[A]);if(ni(Q,ee))R(Q,ee,b,null,x,P,L,k,N);else break;A++}for(;A<=j&&A<=z;){const Q=w[j],ee=v[z]=N?yn(v[z]):$t(v[z]);if(ni(Q,ee))R(Q,ee,b,null,x,P,L,k,N);else break;j--,z--}if(A>j){if(A<=z){const Q=z+1,ee=Q<D?v[Q].el:S;for(;A<=z;)R(null,v[A]=N?yn(v[A]):$t(v[A]),b,ee,x,P,L,k,N),A++}}else if(A>z)for(;A<=j;)qe(w[A],x,P,!0),A++;else{const Q=A,ee=A,pe=new Map;for(A=ee;A<=z;A++){const Oe=v[A]=N?yn(v[A]):$t(v[A]);Oe.key!=null&&pe.set(Oe.key,A)}let ce,be=0;const xe=z-ee+1;let at=!1,Wt=0;const jn=new Array(xe);for(A=0;A<xe;A++)jn[A]=0;for(A=Q;A<=j;A++){const Oe=w[A];if(be>=xe){qe(Oe,x,P,!0);continue}let lt;if(Oe.key!=null)lt=pe.get(Oe.key);else for(ce=ee;ce<=z;ce++)if(jn[ce-ee]===0&&ni(Oe,v[ce])){lt=ce;break}lt===void 0?qe(Oe,x,P,!0):(jn[lt-ee]=A+1,lt>=Wt?Wt=lt:at=!0,R(Oe,v[lt],b,null,x,P,L,k,N),be++)}const Yt=at?jw(jn):Sr;for(ce=Yt.length-1,A=xe-1;A>=0;A--){const Oe=ee+A,lt=v[Oe],Un=Oe+1<D?v[Oe+1].el:S;jn[A]===0?R(null,lt,b,Un,x,P,L,k,N):at&&(ce<0||A!==Yt[ce]?_t(lt,b,Un,2):ce--)}}},_t=(w,v,b,S,x=null)=>{const{el:P,type:L,transition:k,children:N,shapeFlag:A}=w;if(A&6){_t(w.component.subTree,v,b,S);return}if(A&128){w.suspense.move(v,b,S);return}if(A&64){L.move(w,v,b,M);return}if(L===Pt){r(P,v,b);for(let j=0;j<N.length;j++)_t(N[j],v,b,S);r(w.anchor,v,b);return}if(L===Ho){J(w,v,b);return}if(S!==2&&A&1&&k)if(S===0)k.beforeEnter(P),r(P,v,b),et(()=>k.enter(P),x);else{const{leave:j,delayLeave:z,afterLeave:Q}=k,ee=()=>r(P,v,b),pe=()=>{j(P,()=>{ee(),Q&&Q()})};z?z(P,ee,pe):pe()}else r(P,v,b)},qe=(w,v,b,S=!1,x=!1)=>{const{type:P,props:L,ref:k,children:N,dynamicChildren:A,shapeFlag:D,patchFlag:j,dirs:z}=w;if(k!=null&&ga(k,null,b,w,!0),D&256){v.ctx.deactivate(w);return}const Q=D&1&&z,ee=!hs(w);let pe;if(ee&&(pe=L&&L.onVnodeBeforeUnmount)&&Vt(pe,v,w),D&6)C(w.component,b,S);else{if(D&128){w.suspense.unmount(b,S);return}Q&&Kn(w,null,v,"beforeUnmount"),D&64?w.type.remove(w,v,b,x,M,S):A&&(P!==Pt||j>0&&j&64)?Le(A,v,b,!1,!0):(P===Pt&&j&384||!x&&D&16)&&Le(N,v,b),S&&Qt(w)}(ee&&(pe=L&&L.onVnodeUnmounted)||Q)&&et(()=>{pe&&Vt(pe,v,w),Q&&Kn(w,null,v,"unmounted")},b)},Qt=w=>{const{type:v,el:b,anchor:S,transition:x}=w;if(v===Pt){hn(b,S);return}if(v===Ho){V(w);return}const P=()=>{i(b),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(w.shapeFlag&1&&x&&!x.persisted){const{leave:L,delayLeave:k}=x,N=()=>L(b,P);k?k(w.el,P,N):N()}else P()},hn=(w,v)=>{let b;for(;w!==v;)b=g(w),i(w),w=b;i(v)},C=(w,v,b)=>{const{bum:S,scope:x,update:P,subTree:L,um:k}=w;S&&ds(S),x.stop(),P&&(P.active=!1,qe(L,w,v,b)),k&&et(k,v),et(()=>{w.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Le=(w,v,b,S=!1,x=!1,P=0)=>{for(let L=P;L<w.length;L++)qe(w[L],v,b,S,x)},T=w=>w.shapeFlag&6?T(w.component.subTree):w.shapeFlag&128?w.suspense.next():g(w.anchor||w.el),H=(w,v,b)=>{w==null?v._vnode&&qe(v._vnode,null,null,!0):R(v._vnode||null,w,v,null,null,null,b),ru(),mf(),v._vnode=w},M={p:R,um:qe,m:_t,r:Qt,mt:dn,mc:It,pc:le,pbc:mt,n:T,o:t};let B,ie;return e&&([B,ie]=e(M)),{render:H,hydrate:B,createApp:Ow(H,B)}}function Gn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ww(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Nf(t,e,n=!1){const r=t.children,i=e.children;if(Y(r)&&Y(i))for(let s=0;s<r.length;s++){const o=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=yn(i[s]),c.el=o.el),n||Nf(o,c)),c.type===Gs&&(c.el=o.el)}}function jw(t){const e=t.slice(),n=[0];let r,i,s,o,c;const u=t.length;for(r=0;r<u;r++){const d=t[r];if(d!==0){if(i=n[n.length-1],t[i]<d){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)c=s+o>>1,t[n[c]]<d?s=c+1:o=c;d<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const Uw=t=>t.__isTeleport,Pt=Symbol.for("v-fgt"),Gs=Symbol.for("v-txt"),ar=Symbol.for("v-cmt"),Ho=Symbol.for("v-stc"),di=[];let Rt=null;function en(t=!1){di.push(Rt=t?null:[])}function Vw(){di.pop(),Rt=di[di.length-1]||null}let bi=1;function hu(t){bi+=t}function Df(t){return t.dynamicChildren=bi>0?Rt||Sr:null,Vw(),bi>0&&Rt&&Rt.push(t),t}function vn(t,e,n,r,i,s){return Df(Cn(t,e,n,r,i,s,!0))}function $w(t,e,n,r,i){return Df(nt(t,e,n,r,i,!0))}function _a(t){return t?t.__v_isVNode===!0:!1}function ni(t,e){return t.type===e.type&&t.key===e.key}const Qs="__vInternal",Mf=({key:t})=>t??null,ms=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Qe(t)||Z(t)?{i:bt,r:t,k:e,f:!!n}:t:null);function Cn(t,e=null,n=null,r=0,i=null,s=t===Pt?0:1,o=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Mf(e),ref:e&&ms(e),scopeId:qs,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:bt};return c?(dl(u,n),s&128&&t.normalize(u)):n&&(u.shapeFlag|=De(n)?8:16),bi>0&&!o&&Rt&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Rt.push(u),u}const nt=zw;function zw(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===uw)&&(t=ar),_a(t)){const c=Or(t,e,!0);return n&&dl(c,n),bi>0&&!s&&Rt&&(c.shapeFlag&6?Rt[Rt.indexOf(t)]=c:Rt.push(c)),c.patchFlag|=-2,c}if(rv(t)&&(t=t.__vccOpts),e){e=qw(e);let{class:c,style:u}=e;c&&!De(c)&&(e.class=el(c)),Ie(u)&&(of(u)&&!Y(u)&&(u=ze({},u)),e.style=Za(u))}const o=De(t)?1:dw(t)?128:Uw(t)?64:Ie(t)?4:Z(t)?2:0;return Cn(t,e,n,r,i,o,s,!0)}function qw(t){return t?of(t)||Qs in t?ze({},t):t:null}function Or(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,c=e?Gw(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Mf(c),ref:e&&e.ref?n&&i?Y(i)?i.concat(ms(e)):[i,ms(e)]:ms(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Or(t.ssContent),ssFallback:t.ssFallback&&Or(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Lf(t=" ",e=0){return nt(Gs,null,t,e)}function Kw(t="",e=!1){return e?(en(),$w(ar,null,t)):nt(ar,null,t)}function $t(t){return t==null||typeof t=="boolean"?nt(ar):Y(t)?nt(Pt,null,t.slice()):typeof t=="object"?yn(t):nt(Gs,null,String(t))}function yn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Or(t)}function dl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Y(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),dl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Qs in e)?e._ctx=bt:i===3&&bt&&(bt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:bt},n=32):(e=String(e),r&64?(n=16,e=[Lf(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gw(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=el([e.class,r.class]));else if(i==="style")e.style=Za([e.style,r.style]);else if(Bs(i)){const s=e[i],o=r[i];o&&s!==o&&!(Y(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Vt(t,e,n,r=null){Dt(t,e,7,[n,r])}const Qw=xf();let Yw=0;function Jw(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Qw,s={uid:Yw++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new E_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pf(r,i),emitsOptions:_f(r,i),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:r.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=nw.bind(null,s),t.ce&&t.ce(s),s}let $e=null;const Xw=()=>$e||bt;let fl,yr,pu="__VUE_INSTANCE_SETTERS__";(yr=oa()[pu])||(yr=oa()[pu]=[]),yr.push(t=>$e=t),fl=t=>{yr.length>1?yr.forEach(e=>e(t)):yr[0](t)};const Nr=t=>{fl(t),t.scope.on()},ir=()=>{$e&&$e.scope.off(),fl(null)};function Ff(t){return t.vnode.shapeFlag&4}let Ci=!1;function Zw(t,e=!1){Ci=e;const{props:n,children:r}=t.vnode,i=Ff(t);Nw(t,n,i,e),Lw(t,r);const s=i?ev(t,e):void 0;return Ci=!1,s}function ev(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=af(new Proxy(t.ctx,Iw));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?nv(t):null;Nr(t),Vr();const s=Tn(r,t,0,[t.props,i]);if($r(),ir(),jd(s)){if(s.then(ir,ir),e)return s.then(o=>{mu(t,o,e)}).catch(o=>{$s(o,t,0)});t.asyncDep=s}else mu(t,s,e)}else Bf(t,e)}function mu(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ie(e)&&(t.setupState=df(e)),Bf(t,n)}let gu;function Bf(t,e,n){const r=t.type;if(!t.render){if(!e&&gu&&!r.render){const i=r.template||cl(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:c,compilerOptions:u}=r,d=ze(ze({isCustomElement:s,delimiters:c},o),u);r.render=gu(i,d)}}t.render=r.render||Nt}{Nr(t),Vr();try{Tw(t)}finally{$r(),ir()}}}function tv(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return st(t,"get","$attrs"),e[n]}}))}function nv(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return tv(t)},slots:t.slots,emit:t.emit,expose:e}}function Ys(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(df(af(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ui)return ui[n](t)},has(e,n){return n in e||n in ui}}))}function rv(t){return Z(t)&&"__vccOpts"in t}const vt=(t,e)=>Y_(t,e,Ci);function Hf(t,e,n){const r=arguments.length;return r===2?Ie(e)&&!Y(e)?_a(e)?nt(t,null,[e]):nt(t,e):nt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&_a(n)&&(n=[n]),nt(t,e,n))}const iv=Symbol.for("v-scx"),sv=()=>rn(iv),ov="3.3.8",av="http://www.w3.org/2000/svg",Zn=typeof document<"u"?document:null,_u=Zn&&Zn.createElement("template"),lv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Zn.createElementNS(av,t):Zn.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Zn.createTextNode(t),createComment:t=>Zn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{_u.innerHTML=r?`<svg>${t}</svg>`:t;const c=_u.content;if(r){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cv=Symbol("_vtc");function uv(t,e,n){const r=t[cv];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const dv=Symbol("_vod");function fv(t,e,n){const r=t.style,i=De(n);if(n&&!i){if(e&&!De(e))for(const s in e)n[s]==null&&wa(r,s,"");for(const s in n)wa(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),dv in t&&(r.display=s)}}const wu=/\s*!important$/;function wa(t,e,n){if(Y(n))n.forEach(r=>wa(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=hv(t,e);wu.test(n)?t.setProperty(Ur(r),n.replace(wu,""),"important"):t[r]=n}}const vu=["Webkit","Moz","ms"],Wo={};function hv(t,e){const n=Wo[e];if(n)return n;let r=kr(e);if(r!=="filter"&&r in t)return Wo[e]=r;r=$d(r);for(let i=0;i<vu.length;i++){const s=vu[i]+r;if(s in t)return Wo[e]=s}return e}const yu="http://www.w3.org/1999/xlink";function pv(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(yu,e.slice(6,e.length)):t.setAttributeNS(yu,e,n);else{const s=C_(e);n==null||s&&!zd(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function mv(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const d=c==="OPTION"?t.getAttribute("value"):t.value,p=n??"";d!==p&&(t.value=p),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=zd(n):n==null&&d==="string"?(n="",u=!0):d==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function Cr(t,e,n,r){t.addEventListener(e,n,r)}function gv(t,e,n,r){t.removeEventListener(e,n,r)}const bu=Symbol("_vei");function _v(t,e,n,r,i=null){const s=t[bu]||(t[bu]={}),o=s[e];if(r&&o)o.value=r;else{const[c,u]=wv(e);if(r){const d=s[e]=bv(r,i);Cr(t,c,d,u)}else o&&(gv(t,c,o,u),s[e]=void 0)}}const Cu=/(?:Once|Passive|Capture)$/;function wv(t){let e;if(Cu.test(t)){e={};let r;for(;r=t.match(Cu);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ur(t.slice(2)),e]}let jo=0;const vv=Promise.resolve(),yv=()=>jo||(vv.then(()=>jo=0),jo=Date.now());function bv(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Dt(Cv(r,n.value),e,5,[r])};return n.value=t,n.attached=yv(),n}function Cv(t,e){if(Y(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Eu=/^on[a-z]/,Ev=(t,e,n,r,i=!1,s,o,c,u)=>{e==="class"?uv(t,r,i):e==="style"?fv(t,n,r):Bs(e)?Ya(e)||_v(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Sv(t,e,r,i))?mv(t,e,r,s,o,c,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),pv(t,e,r,i))};function Sv(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Eu.test(e)&&Z(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Eu.test(e)&&De(n)?!1:e in t}const Su=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Y(e)?n=>ds(e,n):e};function Iv(t){t.target.composing=!0}function Iu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Uo=Symbol("_assign"),BI={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Uo]=Su(i);const s=r||i.props&&i.props.type==="number";Cr(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=sa(c)),t[Uo](c)}),n&&Cr(t,"change",()=>{t.value=t.value.trim()}),e||(Cr(t,"compositionstart",Iv),Cr(t,"compositionend",Iu),Cr(t,"change",Iu))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Uo]=Su(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&sa(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},Tv=ze({patchProp:Ev},lv);let Tu;function xv(){return Tu||(Tu=Bw(Tv))}const Av=(...t)=>{const e=xv().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Pv(r);if(!i)return;const s=e._component;!Z(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Pv(t){return De(t)?document.querySelector(t):t}const kv="/TicTacToe/assets/logo-277e0e97.svg";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Er=typeof window<"u";function Rv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const me=Object.assign;function Vo(t,e){const n={};for(const r in e){const i=e[r];n[r]=Lt(i)?i.map(t):t(i)}return n}const fi=()=>{},Lt=Array.isArray,Ov=/\/$/,Nv=t=>t.replace(Ov,"");function $o(t,e,n="/"){let r,i={},s="",o="";const c=e.indexOf("#");let u=e.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(r=e.slice(0,u),s=e.slice(u+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=Fv(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function Dv(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function xu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Mv(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Dr(e.matched[r],n.matched[i])&&Wf(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Dr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Wf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Lv(t[n],e[n]))return!1;return!0}function Lv(t,e){return Lt(t)?Au(t,e):Lt(e)?Au(e,t):t===e}function Au(t,e){return Lt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Fv(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Ei;(function(t){t.pop="pop",t.push="push"})(Ei||(Ei={}));var hi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(hi||(hi={}));function Bv(t){if(!t)if(Er){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Nv(t)}const Hv=/^[^#]+#/;function Wv(t,e){return t.replace(Hv,"#")+e}function jv(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Js=()=>({left:window.pageXOffset,top:window.pageYOffset});function Uv(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=jv(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Pu(t,e){return(history.state?history.state.position-e:-1)+t}const va=new Map;function Vv(t,e){va.set(t,e)}function $v(t){const e=va.get(t);return va.delete(t),e}let zv=()=>location.protocol+"//"+location.host;function jf(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,u=i.slice(c);return u[0]!=="/"&&(u="/"+u),xu(u,"")}return xu(n,t)+r+i}function qv(t,e,n,r){let i=[],s=[],o=null;const c=({state:g})=>{const y=jf(t,location),I=n.value,R=e.value;let W=0;if(g){if(n.value=y,e.value=g,o&&o===I){o=null;return}W=R?g.position-R.position:0}else r(y);i.forEach(F=>{F(n.value,I,{delta:W,type:Ei.pop,direction:W?W>0?hi.forward:hi.back:hi.unknown})})};function u(){o=n.value}function d(g){i.push(g);const y=()=>{const I=i.indexOf(g);I>-1&&i.splice(I,1)};return s.push(y),y}function p(){const{history:g}=window;g.state&&g.replaceState(me({},g.state,{scroll:Js()}),"")}function m(){for(const g of s)g();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:u,listen:d,destroy:m}}function ku(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Js():null}}function Kv(t){const{history:e,location:n}=window,r={value:jf(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(u,d,p){const m=t.indexOf("#"),g=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+u:zv()+t+u;try{e[p?"replaceState":"pushState"](d,"",g),i.value=d}catch(y){console.error(y),n[p?"replace":"assign"](g)}}function o(u,d){const p=me({},e.state,ku(i.value.back,u,i.value.forward,!0),d,{position:i.value.position});s(u,p,!0),r.value=u}function c(u,d){const p=me({},i.value,e.state,{forward:u,scroll:Js()});s(p.current,p,!0);const m=me({},ku(r.value,u,null),{position:p.position+1},d);s(u,m,!1),r.value=u}return{location:r,state:i,push:c,replace:o}}function Gv(t){t=Bv(t);const e=Kv(t),n=qv(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=me({location:"",base:t,go:r,createHref:Wv.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Qv(t){return typeof t=="string"||t&&typeof t=="object"}function Uf(t){return typeof t=="string"||typeof t=="symbol"}const _n={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Vf=Symbol("");var Ru;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ru||(Ru={}));function Mr(t,e){return me(new Error,{type:t,[Vf]:!0},e)}function Xt(t,e){return t instanceof Error&&Vf in t&&(e==null||!!(t.type&e))}const Ou="[^/]+?",Yv={sensitive:!1,strict:!1,start:!0,end:!0},Jv=/[.+*?^${}()[\]/\\]/g;function Xv(t,e){const n=me({},Yv,e),r=[];let i=n.start?"^":"";const s=[];for(const d of t){const p=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let m=0;m<d.length;m++){const g=d[m];let y=40+(n.sensitive?.25:0);if(g.type===0)m||(i+="/"),i+=g.value.replace(Jv,"\\$&"),y+=40;else if(g.type===1){const{value:I,repeatable:R,optional:W,regexp:F}=g;s.push({name:I,repeatable:R,optional:W});const $=F||Ou;if($!==Ou){y+=10;try{new RegExp(`(${$})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${I}" (${$}): `+V.message)}}let J=R?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;m||(J=W&&d.length<2?`(?:/${J})`:"/"+J),W&&(J+="?"),i+=J,y+=20,W&&(y+=-8),R&&(y+=-20),$===".*"&&(y+=-50)}p.push(y)}r.push(p)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function c(d){const p=d.match(o),m={};if(!p)return null;for(let g=1;g<p.length;g++){const y=p[g]||"",I=s[g-1];m[I.name]=y&&I.repeatable?y.split("/"):y}return m}function u(d){let p="",m=!1;for(const g of t){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const y of g)if(y.type===0)p+=y.value;else if(y.type===1){const{value:I,repeatable:R,optional:W}=y,F=I in d?d[I]:"";if(Lt(F)&&!R)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const $=Lt(F)?F.join("/"):F;if(!$)if(W)g.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${I}"`);p+=$}}return p||"/"}return{re:o,score:r,keys:s,parse:c,stringify:u}}function Zv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function ey(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=Zv(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Nu(r))return 1;if(Nu(i))return-1}return i.length-r.length}function Nu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ty={type:0,value:""},ny=/[a-zA-Z0-9_]/;function ry(t){if(!t)return[[]];if(t==="/")return[[ty]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let c=0,u,d="",p="";function m(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),d="")}function g(){d+=u}for(;c<t.length;){if(u=t[c++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(d&&m(),o()):u===":"?(m(),n=1):g();break;case 4:g(),n=r;break;case 1:u==="("?n=2:ny.test(u)?g():(m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+u:n=3:p+=u;break;case 3:m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),m(),o(),i}function iy(t,e,n){const r=Xv(ry(t.path),n),i=me(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function sy(t,e){const n=[],r=new Map;e=Lu({strict:!1,end:!0,sensitive:!1},e);function i(p){return r.get(p)}function s(p,m,g){const y=!g,I=oy(p);I.aliasOf=g&&g.record;const R=Lu(e,p),W=[I];if("alias"in p){const J=typeof p.alias=="string"?[p.alias]:p.alias;for(const V of J)W.push(me({},I,{components:g?g.record.components:I.components,path:V,aliasOf:g?g.record:I}))}let F,$;for(const J of W){const{path:V}=J;if(m&&V[0]!=="/"){const Ae=m.record.path,Me=Ae[Ae.length-1]==="/"?"":"/";J.path=m.record.path+(V&&Me+V)}if(F=iy(J,m,R),g?g.alias.push(F):($=$||F,$!==F&&$.alias.push(F),y&&p.name&&!Mu(F)&&o(p.name)),I.children){const Ae=I.children;for(let Me=0;Me<Ae.length;Me++)s(Ae[Me],F,g&&g.children[Me])}g=g||F,(F.record.components&&Object.keys(F.record.components).length||F.record.name||F.record.redirect)&&u(F)}return $?()=>{o($)}:fi}function o(p){if(Uf(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function c(){return n}function u(p){let m=0;for(;m<n.length&&ey(p,n[m])>=0&&(p.record.path!==n[m].record.path||!$f(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!Mu(p)&&r.set(p.record.name,p)}function d(p,m){let g,y={},I,R;if("name"in p&&p.name){if(g=r.get(p.name),!g)throw Mr(1,{location:p});R=g.record.name,y=me(Du(m.params,g.keys.filter($=>!$.optional).map($=>$.name)),p.params&&Du(p.params,g.keys.map($=>$.name))),I=g.stringify(y)}else if("path"in p)I=p.path,g=n.find($=>$.re.test(I)),g&&(y=g.parse(I),R=g.record.name);else{if(g=m.name?r.get(m.name):n.find($=>$.re.test(m.path)),!g)throw Mr(1,{location:p,currentLocation:m});R=g.record.name,y=me({},m.params,p.params),I=g.stringify(y)}const W=[];let F=g;for(;F;)W.unshift(F.record),F=F.parent;return{name:R,path:I,params:y,matched:W,meta:ly(W)}}return t.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:o,getRoutes:c,getRecordMatcher:i}}function Du(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function oy(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ay(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function ay(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Mu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ly(t){return t.reduce((e,n)=>me(e,n.meta),{})}function Lu(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function $f(t,e){return e.children.some(n=>n===t||$f(t,n))}const zf=/#/g,cy=/&/g,uy=/\//g,dy=/=/g,fy=/\?/g,qf=/\+/g,hy=/%5B/g,py=/%5D/g,Kf=/%5E/g,my=/%60/g,Gf=/%7B/g,gy=/%7C/g,Qf=/%7D/g,_y=/%20/g;function hl(t){return encodeURI(""+t).replace(gy,"|").replace(hy,"[").replace(py,"]")}function wy(t){return hl(t).replace(Gf,"{").replace(Qf,"}").replace(Kf,"^")}function ya(t){return hl(t).replace(qf,"%2B").replace(_y,"+").replace(zf,"%23").replace(cy,"%26").replace(my,"`").replace(Gf,"{").replace(Qf,"}").replace(Kf,"^")}function vy(t){return ya(t).replace(dy,"%3D")}function yy(t){return hl(t).replace(zf,"%23").replace(fy,"%3F")}function by(t){return t==null?"":yy(t).replace(uy,"%2F")}function bs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Cy(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(qf," "),o=s.indexOf("="),c=bs(o<0?s:s.slice(0,o)),u=o<0?null:bs(s.slice(o+1));if(c in e){let d=e[c];Lt(d)||(d=e[c]=[d]),d.push(u)}else e[c]=u}return e}function Fu(t){let e="";for(let n in t){const r=t[n];if(n=vy(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Lt(r)?r.map(s=>s&&ya(s)):[r&&ya(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Ey(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Lt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Sy=Symbol(""),Bu=Symbol(""),pl=Symbol(""),Yf=Symbol(""),ba=Symbol("");function ri(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function bn(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,c)=>{const u=m=>{m===!1?c(Mr(4,{from:n,to:e})):m instanceof Error?c(m):Qv(m)?c(Mr(2,{from:e,to:m})):(s&&r.enterCallbacks[i]===s&&typeof m=="function"&&s.push(m),o())},d=t.call(r&&r.instances[i],e,n,u);let p=Promise.resolve(d);t.length<3&&(p=p.then(u)),p.catch(m=>c(m))})}function zo(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let c=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(Iy(c)){const d=(c.__vccOpts||c)[e];d&&i.push(bn(d,n,r,s,o))}else{let u=c();i.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const p=Rv(d)?d.default:d;s.components[o]=p;const g=(p.__vccOpts||p)[e];return g&&bn(g,n,r,s,o)()}))}}return i}function Iy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Hu(t){const e=rn(pl),n=rn(Yf),r=vt(()=>e.resolve(rr(t.to))),i=vt(()=>{const{matched:u}=r.value,{length:d}=u,p=u[d-1],m=n.matched;if(!p||!m.length)return-1;const g=m.findIndex(Dr.bind(null,p));if(g>-1)return g;const y=Wu(u[d-2]);return d>1&&Wu(p)===y&&m[m.length-1].path!==y?m.findIndex(Dr.bind(null,u[d-2])):g}),s=vt(()=>i.value>-1&&Py(n.params,r.value.params)),o=vt(()=>i.value>-1&&i.value===n.matched.length-1&&Wf(n.params,r.value.params));function c(u={}){return Ay(u)?e[rr(t.replace)?"replace":"push"](rr(t.to)).catch(fi):Promise.resolve()}return{route:r,href:vt(()=>r.value.href),isActive:s,isExactActive:o,navigate:c}}const Ty=yf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hu,setup(t,{slots:e}){const n=Vs(Hu(t)),{options:r}=rn(pl),i=vt(()=>({[ju(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ju(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Hf("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),xy=Ty;function Ay(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Py(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Lt(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Wu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ju=(t,e,n)=>t??e??n,ky=yf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=rn(ba),i=vt(()=>t.route||r.value),s=rn(Bu,0),o=vt(()=>{let d=rr(s);const{matched:p}=i.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),c=vt(()=>i.value.matched[o.value]);ps(Bu,vt(()=>o.value+1)),ps(Sy,c),ps(ba,i);const u=Qn();return fs(()=>[u.value,c.value,t.name],([d,p,m],[g,y,I])=>{p&&(p.instances[m]=d,y&&y!==p&&d&&d===g&&(p.leaveGuards.size||(p.leaveGuards=y.leaveGuards),p.updateGuards.size||(p.updateGuards=y.updateGuards))),d&&p&&(!y||!Dr(p,y)||!g)&&(p.enterCallbacks[m]||[]).forEach(R=>R(d))},{flush:"post"}),()=>{const d=i.value,p=t.name,m=c.value,g=m&&m.components[p];if(!g)return Uu(n.default,{Component:g,route:d});const y=m.props[p],I=y?y===!0?d.params:typeof y=="function"?y(d):y:null,W=Hf(g,me({},I,e,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(m.instances[p]=null)},ref:u}));return Uu(n.default,{Component:W,route:d})||W}}});function Uu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Jf=ky;function Ry(t){const e=sy(t.routes,t),n=t.parseQuery||Cy,r=t.stringifyQuery||Fu,i=t.history,s=ri(),o=ri(),c=ri(),u=q_(_n);let d=_n;Er&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Vo.bind(null,T=>""+T),m=Vo.bind(null,by),g=Vo.bind(null,bs);function y(T,H){let M,B;return Uf(T)?(M=e.getRecordMatcher(T),B=H):B=T,e.addRoute(B,M)}function I(T){const H=e.getRecordMatcher(T);H&&e.removeRoute(H)}function R(){return e.getRoutes().map(T=>T.record)}function W(T){return!!e.getRecordMatcher(T)}function F(T,H){if(H=me({},H||u.value),typeof T=="string"){const b=$o(n,T,H.path),S=e.resolve({path:b.path},H),x=i.createHref(b.fullPath);return me(b,S,{params:g(S.params),hash:bs(b.hash),redirectedFrom:void 0,href:x})}let M;if("path"in T)M=me({},T,{path:$o(n,T.path,H.path).path});else{const b=me({},T.params);for(const S in b)b[S]==null&&delete b[S];M=me({},T,{params:m(b)}),H.params=m(H.params)}const B=e.resolve(M,H),ie=T.hash||"";B.params=p(g(B.params));const w=Dv(r,me({},T,{hash:wy(ie),path:B.path})),v=i.createHref(w);return me({fullPath:w,hash:ie,query:r===Fu?Ey(T.query):T.query||{}},B,{redirectedFrom:void 0,href:v})}function $(T){return typeof T=="string"?$o(n,T,u.value.path):me({},T)}function J(T,H){if(d!==T)return Mr(8,{from:H,to:T})}function V(T){return Ze(T)}function Ae(T){return V(me($(T),{replace:!0}))}function Me(T){const H=T.matched[T.matched.length-1];if(H&&H.redirect){const{redirect:M}=H;let B=typeof M=="function"?M(T):M;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=$(B):{path:B},B.params={}),me({query:T.query,hash:T.hash,params:"path"in B?{}:T.params},B)}}function Ze(T,H){const M=d=F(T),B=u.value,ie=T.state,w=T.force,v=T.replace===!0,b=Me(M);if(b)return Ze(me($(b),{state:typeof b=="object"?me({},ie,b.state):ie,force:w,replace:v}),H||M);const S=M;S.redirectedFrom=H;let x;return!w&&Mv(r,B,M)&&(x=Mr(16,{to:S,from:B}),_t(B,B,!0,!1)),(x?Promise.resolve(x):mt(S,B)).catch(P=>Xt(P)?Xt(P,2)?P:G(P):le(P,S,B)).then(P=>{if(P){if(Xt(P,2))return Ze(me({replace:v},$(P.to),{state:typeof P.to=="object"?me({},ie,P.to.state):ie,force:w}),H||S)}else P=Ht(S,B,!0,v,ie);return Bt(S,B,P),P})}function It(T,H){const M=J(T,H);return M?Promise.reject(M):Promise.resolve()}function un(T){const H=hn.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(T):T()}function mt(T,H){let M;const[B,ie,w]=Oy(T,H);M=zo(B.reverse(),"beforeRouteLeave",T,H);for(const b of B)b.leaveGuards.forEach(S=>{M.push(bn(S,T,H))});const v=It.bind(null,T,H);return M.push(v),Le(M).then(()=>{M=[];for(const b of s.list())M.push(bn(b,T,H));return M.push(v),Le(M)}).then(()=>{M=zo(ie,"beforeRouteUpdate",T,H);for(const b of ie)b.updateGuards.forEach(S=>{M.push(bn(S,T,H))});return M.push(v),Le(M)}).then(()=>{M=[];for(const b of w)if(b.beforeEnter)if(Lt(b.beforeEnter))for(const S of b.beforeEnter)M.push(bn(S,T,H));else M.push(bn(b.beforeEnter,T,H));return M.push(v),Le(M)}).then(()=>(T.matched.forEach(b=>b.enterCallbacks={}),M=zo(w,"beforeRouteEnter",T,H),M.push(v),Le(M))).then(()=>{M=[];for(const b of o.list())M.push(bn(b,T,H));return M.push(v),Le(M)}).catch(b=>Xt(b,8)?b:Promise.reject(b))}function Bt(T,H,M){c.list().forEach(B=>un(()=>B(T,H,M)))}function Ht(T,H,M,B,ie){const w=J(T,H);if(w)return w;const v=H===_n,b=Er?history.state:{};M&&(B||v?i.replace(T.fullPath,me({scroll:v&&b&&b.scroll},ie)):i.push(T.fullPath,ie)),u.value=T,_t(T,H,M,v),G()}let gt;function dn(){gt||(gt=i.listen((T,H,M)=>{if(!C.listening)return;const B=F(T),ie=Me(B);if(ie){Ze(me(ie,{replace:!0}),B).catch(fi);return}d=B;const w=u.value;Er&&Vv(Pu(w.fullPath,M.delta),Js()),mt(B,w).catch(v=>Xt(v,12)?v:Xt(v,2)?(Ze(v.to,B).then(b=>{Xt(b,20)&&!M.delta&&M.type===Ei.pop&&i.go(-1,!1)}).catch(fi),Promise.reject()):(M.delta&&i.go(-M.delta,!1),le(v,B,w))).then(v=>{v=v||Ht(B,w,!1),v&&(M.delta&&!Xt(v,8)?i.go(-M.delta,!1):M.type===Ei.pop&&Xt(v,20)&&i.go(-1,!1)),Bt(B,w,v)}).catch(fi)}))}let fn=ri(),Re=ri(),he;function le(T,H,M){G(T);const B=Re.list();return B.length?B.forEach(ie=>ie(T,H,M)):console.error(T),Promise.reject(T)}function Tt(){return he&&u.value!==_n?Promise.resolve():new Promise((T,H)=>{fn.add([T,H])})}function G(T){return he||(he=!T,dn(),fn.list().forEach(([H,M])=>T?M(T):H()),fn.reset()),T}function _t(T,H,M,B){const{scrollBehavior:ie}=t;if(!Er||!ie)return Promise.resolve();const w=!M&&$v(Pu(T.fullPath,0))||(B||!M)&&history.state&&history.state.scroll||null;return hf().then(()=>ie(T,H,w)).then(v=>v&&Uv(v)).catch(v=>le(v,T,H))}const qe=T=>i.go(T);let Qt;const hn=new Set,C={currentRoute:u,listening:!0,addRoute:y,removeRoute:I,hasRoute:W,getRoutes:R,resolve:F,options:t,push:V,replace:Ae,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:c.add,onError:Re.add,isReady:Tt,install(T){const H=this;T.component("RouterLink",xy),T.component("RouterView",Jf),T.config.globalProperties.$router=H,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>rr(u)}),Er&&!Qt&&u.value===_n&&(Qt=!0,V(i.location).catch(ie=>{}));const M={};for(const ie in _n)Object.defineProperty(M,ie,{get:()=>u.value[ie],enumerable:!0});T.provide(pl,H),T.provide(Yf,rf(M)),T.provide(ba,u);const B=T.unmount;hn.add(T),T.unmount=function(){hn.delete(T),hn.size<1&&(d=_n,gt&&gt(),gt=null,u.value=_n,Qt=!1,he=!1),B()}}};function Le(T){return T.reduce((H,M)=>H.then(()=>un(M)),Promise.resolve())}return C}function Oy(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const c=e.matched[o];c&&(t.matched.find(d=>Dr(d,c))?r.push(c):n.push(c));const u=t.matched[o];u&&(e.matched.find(d=>Dr(d,u))||i.push(u))}return[n,r,i]}const Ny=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const Dy=t=>(rw("data-v-f35cf0cd"),t=t(),iw(),t),My=Dy(()=>Cn("header",null,[Cn("img",{alt:"Vue logo",class:"logo",src:kv,width:"125",height:"125"}),Cn("div",{class:"wrapper"},[Cn("h1",{style:{"text-align":"center"}},"Tic-Tac-Toe")])],-1)),Ly={__name:"App",setup(t){return(e,n)=>(en(),vn(Pt,null,[My,nt(rr(Jf))],64))}},Fy=Ny(Ly,[["__scopeId","data-v-f35cf0cd"]]),By="modulepreload",Hy=function(t){return"/TicTacToe/"+t},Vu={},qo=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Hy(s),s in Vu)return;Vu[s]=!0;const o=s.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===s&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":By,o||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),o)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw zr(e)},zr=function(t){return new Error("Firebase Database ("+Xf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wy=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ml={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let g=(c&15)<<2|d>>6,y=d&63;u||(y=64,o||(g=64)),r.push(n[p],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Wy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||m==null)throw new jy;const g=s<<2|c>>4;if(r.push(g),d!==64){const y=c<<4&240|d>>2;if(r.push(y),m!==64){const I=d<<6&192|m;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eh=function(t){const e=Zf(t);return ml.encodeByteArray(e,!0)},Cs=function(t){return eh(t).replace(/\./g,"")},Ca=function(t){try{return ml.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){return Si(void 0,t)}function Si(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Vy(n)||(t[n]=Si(t[n],e[n]));return t}function Vy(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=()=>$y().__FIREBASE_DEFAULTS__,qy=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ky=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ca(t[1]);return e&&JSON.parse(e)},Gy=()=>{try{return zy()||qy()||Ky()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},th=()=>{var t;return(t=Gy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Cs(JSON.stringify(n)),Cs(JSON.stringify(o)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yy())}function Jy(){return typeof self=="object"&&self.self===self}function Xy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rh(){return Xf.NODE_ADMIN===!0}function Zy(){try{return typeof indexedDB=="object"}catch{return!1}}function eb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tb,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xs.prototype.create)}}class Xs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nb(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new qr(i,c,r)}}function nb(t,e){return t.replace(rb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t){return JSON.parse(t)}function Ne(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ii(Ca(s[0])||""),n=Ii(Ca(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},ib=function(t){const e=ih(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},sb=function(t){const e=ih(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ea(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Es(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Sa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($u(s)&&$u(o)){if(!Sa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $u(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],d,p;for(let m=0;m<80;m++){m<40?m<20?(d=c^s&(o^c),p=1518500249):(d=s^o^c,p=1859775393):m<60?(d=s&o|c&(s|o),p=2400959708):(d=s^o^c,p=3395469782);const g=(i<<5|i>>>27)+d+u+p+r[m]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function lb(t,e){const n=new cb(t,e);return n.subscribe.bind(n)}class cb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ub(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ko),i.error===void 0&&(i.error=Ko),i.complete===void 0&&(i.complete=Ko);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ub(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ko(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function it(t,e){return`${t} failed: ${e} argument `}function He(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(it(t,e)+"must be a valid function.")}function zu(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(it(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zs=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class an{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hb(e))try{this.getOrInitializeService({instanceIdentifier:Yn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yn){return this.instances.has(e)}getOptions(e=Yn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yn){return this.component?this.component.multipleInstances?e:Yn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fb(t){return t===Yn?void 0:t}function hb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ia(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=[];var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const oh={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},pb=ge.INFO,mb={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},gb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eo{constructor(e){this.name=e,this._logLevel=pb,this._logHandler=gb,this._userLogHandler=null,gl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}function _b(t){gl.forEach(e=>{e.setLogLevel(t)})}function wb(t,e){for(const n of gl){let r=null;e&&e.level&&(r=oh[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const c=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:ge[s].toLowerCase(),message:c,args:o,type:i.name})}}}const vb=(t,e)=>e.some(n=>t instanceof n);let qu,Ku;function yb(){return qu||(qu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bb(){return Ku||(Ku=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ah=new WeakMap,Ta=new WeakMap,lh=new WeakMap,Go=new WeakMap,_l=new WeakMap;function Cb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ah.set(n,t)}).catch(()=>{}),_l.set(e,t),e}function Eb(t){if(Ta.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ta.set(t,e)}let xa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ta.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lh.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Sb(t){xa=t(xa)}function Ib(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qo(this),e,...n);return lh.set(r,e.sort?e.sort():[e]),xn(r)}:bb().includes(t)?function(...e){return t.apply(Qo(this),e),xn(ah.get(this))}:function(...e){return xn(t.apply(Qo(this),e))}}function Tb(t){return typeof t=="function"?Ib(t):(t instanceof IDBTransaction&&Eb(t),vb(t,yb())?new Proxy(t,xa):t)}function xn(t){if(t instanceof IDBRequest)return Cb(t);if(Go.has(t))return Go.get(t);const e=Tb(t);return e!==t&&(Go.set(t,e),_l.set(e,t)),e}const Qo=t=>_l.get(t);function xb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=xn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xn(o.result),u.oldVersion,u.newVersion,xn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Ab=["get","getKey","getAll","getAllKeys","count"],Pb=["put","add","delete","clear"],Yo=new Map;function Gu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yo.get(e))return Yo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ab.includes(n)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&u.done]))[0]};return Yo.set(e,s),s}Sb(t=>({...t,get:(e,n,r)=>Gu(e,n)||t.get(e,n,r),has:(e,n)=>!!Gu(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Aa="@firebase/app",Qu="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new eo("@firebase/app"),Ob="@firebase/app-compat",Nb="@firebase/analytics-compat",Db="@firebase/analytics",Mb="@firebase/app-check-compat",Lb="@firebase/app-check",Fb="@firebase/auth",Bb="@firebase/auth-compat",Hb="@firebase/database",Wb="@firebase/database-compat",jb="@firebase/functions",Ub="@firebase/functions-compat",Vb="@firebase/installations",$b="@firebase/installations-compat",zb="@firebase/messaging",qb="@firebase/messaging-compat",Kb="@firebase/performance",Gb="@firebase/performance-compat",Qb="@firebase/remote-config",Yb="@firebase/remote-config-compat",Jb="@firebase/storage",Xb="@firebase/storage-compat",Zb="@firebase/firestore",eC="@firebase/firestore-compat",tC="firebase",nC="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="[DEFAULT]",rC={[Aa]:"fire-core",[Ob]:"fire-core-compat",[Db]:"fire-analytics",[Nb]:"fire-analytics-compat",[Lb]:"fire-app-check",[Mb]:"fire-app-check-compat",[Fb]:"fire-auth",[Bb]:"fire-auth-compat",[Hb]:"fire-rtdb",[Wb]:"fire-rtdb-compat",[jb]:"fire-fn",[Ub]:"fire-fn-compat",[Vb]:"fire-iid",[$b]:"fire-iid-compat",[zb]:"fire-fcm",[qb]:"fire-fcm-compat",[Kb]:"fire-perf",[Gb]:"fire-perf-compat",[Qb]:"fire-rc",[Yb]:"fire-rc-compat",[Jb]:"fire-gcs",[Xb]:"fire-gcs-compat",[Zb]:"fire-fst",[eC]:"fire-fst-compat","fire-js":"fire-js",[tC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn=new Map,Ti=new Map;function Ss(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ch(t,e){t.container.addOrOverwriteComponent(e)}function Lr(t){const e=t.name;if(Ti.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Ti.set(e,t);for(const n of Dn.values())Ss(n,t);return!0}function uh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function iC(t,e,n=Nn){uh(t,e).clearInstance(n)}function sC(){Ti.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sn=new Xs("app","Firebase",oC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aC=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=nC;function vl(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sn.create("bad-app-name",{appName:String(i)});if(n||(n=th()),!n)throw sn.create("no-options");const s=Dn.get(i);if(s){if(Sa(n,s.options)&&Sa(r,s.config))return s;throw sn.create("duplicate-app",{appName:i})}const o=new sh(i);for(const u of Ti.values())o.addComponent(u);const c=new aC(n,r,o);return Dn.set(i,c),c}function lC(t=Nn){const e=Dn.get(t);if(!e&&t===Nn&&th())return vl();if(!e)throw sn.create("no-app",{appName:t});return e}function cC(){return Array.from(Dn.values())}async function dh(t){const e=t.name;Dn.has(e)&&(Dn.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function An(t,e,n){var r;let i=(r=rC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(c.join(" "));return}Lr(new an(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function fh(t,e){if(t!==null&&typeof t!="function")throw sn.create("invalid-log-argument");wb(t,e)}function hh(t){_b(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",dC=1,xi="firebase-heartbeat-store";let Jo=null;function ph(){return Jo||(Jo=xb(uC,dC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xi)}}}).catch(t=>{throw sn.create("idb-open",{originalErrorMessage:t.message})})),Jo}async function fC(t){try{return await(await ph()).transaction(xi).objectStore(xi).get(mh(t))}catch(e){if(e instanceof qr)cr.warn(e.message);else{const n=sn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function Yu(t,e){try{const r=(await ph()).transaction(xi,"readwrite");await r.objectStore(xi).put(e,mh(t)),await r.done}catch(n){if(n instanceof qr)cr.warn(n.message);else{const r=sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(r.message)}}}function mh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,pC=30*24*60*60*1e3;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ju();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=pC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ju(),{heartbeatsToSend:r,unsentEntries:i}=gC(this._heartbeatsCache.heartbeats),s=Cs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ju(){return new Date().toISOString().substring(0,10)}function gC(t,e=hC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Xu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zy()?eb().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await fC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xu(t){return Cs(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){Lr(new an("platform-logger",e=>new kb(e),"PRIVATE")),Lr(new an("heartbeat",e=>new mC(e),"PRIVATE")),An(Aa,Qu,t),An(Aa,Qu,"esm2017"),An("fire-js","")}wC("");const vC=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:qr,SDK_VERSION:wl,_DEFAULT_ENTRY_NAME:Nn,_addComponent:Ss,_addOrOverwriteComponent:ch,_apps:Dn,_clearComponents:sC,_components:Ti,_getProvider:uh,_registerComponent:Lr,_removeServiceInstance:iC,deleteApp:dh,getApp:lC,getApps:cC,initializeApp:vl,onLog:fh,registerVersion:An,setLogLevel:hh},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this._delegate=e,this.firebase=n,Ss(e,new an("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),dh(this._delegate)))}_getService(e,n=Nn){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Nn){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ss(this._delegate,e)}_addOrOverwriteComponent(e){ch(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Zu=new Xs("app-compat","Firebase",bC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:An,setLogLevel:hh,onLog:fh,apps:null,SDK_VERSION:wl,INTERNAL:{registerComponent:c,removeApp:r,useAsService:u,modularAPIs:vC}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(d){delete e[d]}function i(d){if(d=d||Nn,!ft(e,d))throw Zu.create("no-app",{appName:d});return e[d]}i.App=t;function s(d,p={}){const m=vl(d,p);if(ft(e,m.name))return e[m.name];const g=new t(m,n);return e[m.name]=g,g}function o(){return Object.keys(e).map(d=>e[d])}function c(d){const p=d.name,m=p.replace("-compat","");if(Lr(d)&&d.type==="PUBLIC"){const g=(y=i())=>{if(typeof y[m]!="function")throw Zu.create("invalid-app-argument",{appName:p});return y[m]()};d.serviceProps!==void 0&&Si(g,d.serviceProps),n[m]=g,t.prototype[m]=function(...y){return this._getService.bind(this,p).apply(this,d.multipleInstances?y:[])}}return d.type==="PUBLIC"?n[m]:null}function u(d,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(){const t=CC(yC);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:gh,extendNamespace:e,createSubscribe:lb,ErrorFactory:Xs,deepExtend:Si});function e(n){Si(t,n)}return t}const EC=gh();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new eo("@firebase/app-compat"),SC="@firebase/app-compat",IC="0.2.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){An(SC,IC,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Jy()&&self.firebase!==void 0){ed.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ed.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ai=EC;TC();var xC="firebase",AC="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai.registerVersion(xC,AC,"app-compat");const td="@firebase/database",nd="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h="";function wh(t){_h=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ne(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ii(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ft(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PC(e)}}catch{}return new kC},tr=vh("localStorage"),Pa=vh("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new eo("@firebase/database"),yh=function(){let t=1;return function(){return t++}}(),bh=function(t){const e=db(t),n=new ab;n.update(e);const r=n.digest();return ml.encodeByteArray(r)},Bi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Bi.apply(null,r):typeof r=="object"?e+=Ne(r):e+=r,e+=" "}return e};let sr=null,rd=!0;const Ch=function(t,e){O(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ar.logLevel=ge.VERBOSE,sr=Ar.log.bind(Ar),e&&Pa.set("logging_enabled",!0)):typeof t=="function"?sr=t:(sr=null,Pa.remove("logging_enabled"))},je=function(...t){if(rd===!0&&(rd=!1,sr===null&&Pa.get("logging_enabled")===!0&&Ch(!0)),sr){const e=Bi.apply(null,t);sr(e)}},Hi=function(t){return function(...e){je(t,...e)}},ka=function(...t){const e="FIREBASE INTERNAL ERROR: "+Bi(...t);Ar.error(e)},Kt=function(...t){const e=`FIREBASE FATAL ERROR: ${Bi(...t)}`;throw Ar.error(e),new Error(e)},Ye=function(...t){const e="FIREBASE WARNING: "+Bi(...t);Ar.warn(e)},RC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},to=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},OC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mn="[MIN_NAME]",ln="[MAX_NAME]",hr=function(t,e){if(t===e)return 0;if(t===Mn||e===ln)return-1;if(e===Mn||t===ln)return 1;{const n=id(t),r=id(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},NC=function(t,e){return t===e?0:t<e?-1:1},ii=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ne(e))},yl=function(t){if(typeof t!="object"||t===null)return Ne(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ne(e[r]),n+=":",n+=yl(t[e[r]]);return n+="}",n},Eh=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ue(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Sh=function(t){O(!to(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,c,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(u=n;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(i?1:0),d.reverse();const p=d.join("");let m="";for(u=0;u<64;u+=8){let g=parseInt(p.substr(u,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},DC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},MC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function LC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const FC=new RegExp("^-?(0*)\\d{1,10}$"),BC=-2147483648,HC=2147483647,id=function(t){if(FC.test(t)){const e=Number(t);if(e>=BC&&e<=HC)return e}return null},Kr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ye("Exception was thrown by user callback.",n),e},Math.floor(0))}},WC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(e)}}class Pr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="5",Ih="v",Th="s",xh="r",Ah="f",Ph=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kh="ls",Rh="p",Ra="ac",Oh="websocket",Nh="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r,i,s=!1,o="",c=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function VC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Mh(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===Oh)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Nh)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VC(t)&&(n.ns=t.namespace);const i=[];return Ue(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.counters_={}}incrementCounter(e,n=1){ft(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Uy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo={},Zo={};function Cl(t){const e=t.toString();return Xo[e]||(Xo[e]=new $C),Xo[e]}function zC(t,e){const n=t.toString();return Zo[n]||(Zo[n]=e()),Zo[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Kr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="start",KC="close",GC="pLPCommand",QC="pRTLPCB",Lh="id",Fh="pw",Bh="ser",YC="cb",JC="seg",XC="ts",ZC="d",eE="dframe",Hh=1870,Wh=30,tE=Hh-Wh,nE=25e3,rE=3e4;class En{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hi(e),this.stats_=Cl(n),this.urlFn=u=>(this.appCheckToken&&(u[Ra]=this.appCheckToken),Mh(n,Nh,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rE)),OC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new El((...s)=>{const[o,c,u,d,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===sd)this.id=c,this.password=u;else if(o===KC)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[sd]="t",r[Bh]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[YC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ih]=bl,this.transportSessionId&&(r[Th]=this.transportSessionId),this.lastSessionId&&(r[kh]=this.lastSessionId),this.applicationId&&(r[Rh]=this.applicationId),this.appCheckToken&&(r[Ra]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ph.test(location.hostname)&&(r[xh]=Ah);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){En.forceAllow_=!0}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){return En.forceAllow_?!0:!En.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!DC()&&!MC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eh(n),i=Eh(r,tE);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[eE]="t",r[Lh]=e,r[Fh]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ne(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class El{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yh(),window[GC+this.uniqueCallbackIdentifier]=e,window[QC+this.uniqueCallbackIdentifier]=n,this.myIFrame=El.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){je("frame writing exception"),c.stack&&je(c.stack),je(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Lh]=this.myID,e[Fh]=this.myPW,e[Bh]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wh+r.length<=Hh;){const o=this.pendingSegs.shift();r=r+"&"+JC+i+"="+o.seg+"&"+XC+i+"="+o.ts+"&"+ZC+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(nE)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=16384,sE=45e3;let Is=null;typeof MozWebSocket<"u"?Is=MozWebSocket:typeof WebSocket<"u"&&(Is=WebSocket);class yt{constructor(e,n,r,i,s,o,c){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hi(this.connId),this.stats_=Cl(n),this.connURL=yt.connectionURL_(n,o,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Ih]=bl,typeof location<"u"&&location.hostname&&Ph.test(location.hostname)&&(o[xh]=Ah),n&&(o[Th]=n),r&&(o[kh]=r),i&&(o[Ra]=i),s&&(o[Rh]=s),Mh(e,Oh,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tr.set("previous_websocket_failure",!0);try{let r;rh(),this.mySock=new Is(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){yt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Is!==null&&!yt.forceDisallow_}static previouslyFailed(){return tr.isInMemoryStorage||tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ii(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Eh(n,iE);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sE))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yt.responsesRequiredToBeHealthy=2;yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[En,yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=yt&&yt.isAvailable();let r=n&&!yt.previouslyFailed();if(e.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yt];else{const i=this.transports_=[];for(const s of Fr.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Fr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=6e4,aE=5e3,lE=10*1024,cE=100*1024,ea="t",od="d",uE="s",ad="r",dE="e",ld="o",cd="a",ud="n",dd="p",fE="h";class hE{constructor(e,n,r,i,s,o,c,u,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hi("c:"+this.id+":"),this.transportManager_=new Fr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=pi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>cE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ea in e){const n=e[ea];n===cd?this.upgradeIfSecondaryHealthy_():n===ad?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ld&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ii("t",e),r=ii("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:cd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ud,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ii("t",e),r=ii("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ii(ea,e);if(od in e){const r=e[od];if(n===fE){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===ud){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===uE?this.onConnectionShutdown_(r):n===ad?this.onReset_(r):n===dE?ka("Server Error: "+r):n===ld?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ka("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bl!==r&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(oE))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Uh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ts}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=32,hd=768;class fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ue(){return new fe("")}function ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ln(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function Sl(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pE(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Pi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Vh(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function Se(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new fe(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){const n=ne(t),r=ne(e);if(n===null)return e;if(n===r)return Xe(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mE(t,e){const n=Pi(t,0),r=Pi(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=hr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Il(t,e){if(Ln(t)!==Ln(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ct(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ln(t)>Ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class gE{constructor(e,n){this.errorPrefix_=n,this.parts_=Pi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zs(this.parts_[r]);$h(this)}}function _E(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zs(e),$h(t)}function wE(t){const e=t.parts_.pop();t.byteLength_-=Zs(e),t.parts_.length>0&&(t.byteLength_-=1)}function $h(t){if(t.byteLength_>hd)throw new Error(t.errorPrefix_+"has a key path longer than "+hd+" bytes ("+t.byteLength_+").");if(t.parts_.length>fd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fd+") or object contains a cycle "+Jn(t))}function Jn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Uh{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Tl}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=1e3,vE=60*5*1e3,pd=30*1e3,yE=1.3,bE=3e4,CE="server_kill",md=3;class on extends jh{constructor(e,n,r,i,s,o,c,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=on.nextPersistentConnectionId_++,this.log_=Hi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=si,this.maxReconnectDelay_=vE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!rh())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tl.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ts.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ne(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new tt,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,c=>{const u=c.d,d=c.s;on.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(d,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ft(e,"w")){const r=lr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||sb(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ib(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ne(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ka("Unrecognized action received from server: "+Ne(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bE&&(this.reconnectDelay_=si),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+on.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const u=function(){c?c.close():(o=!0,r())},d=function(m){O(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:u,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,c=new hE(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{Ye(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(CE)},s))}catch(m){this.log_("Failed to get token: "+m),o||(this.repoInfo_.nodeAdmin&&Ye(m),u())}}}interrupt(e){je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ea(this.interruptReasons_)&&(this.reconnectDelay_=si,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>yl(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new fe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=md&&(this.reconnectDelay_=pd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=md&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_h.replace(/\./g,"-")]=1,nh()?e["framework.cordova"]=1:Xy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ts.getInstance().currentlyOnline();return Ea(this.interruptReasons_)&&e}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(Mn,e),i=new se(Mn,n);return this.compare(r,i)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ls;class zh extends no{static get __EMPTY_NODE(){return ls}static set __EMPTY_NODE(e){ls=e}compare(e,n){return hr(e.name,n.name)}isDefinedOn(e){throw zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(ln,ls)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,ls)}toString(){return".key"}}const qt=new zh;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??rt.EMPTY_NODE,this.right=s??rt.EMPTY_NODE}copy(e,n,r,i,s){return new We(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return rt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class EE{copy(e,n,r,i,s){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class rt{constructor(e,n=rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new cs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new cs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new cs(this.root_,null,this.comparator_,!0,e)}}rt.EMPTY_NODE=new EE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t,e){return hr(t.name,e.name)}function xl(t,e){return hr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa;function IE(t){Oa=t}const qh=function(t){return typeof t=="number"?"number:"+Sh(t):"string:"+t},Kh=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ft(e,".sv"),"Priority must be a string or number.")}else O(t===Oa||t.isEmpty(),"priority of unexpected type.");O(t===Oa||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd;class Be{constructor(e,n=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Kh(this.priorityNode_)}static set __childrenNodeConstructor(e){gd=e}static get __childrenNodeConstructor(){return gd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Be(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:ne(e)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Ln(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qh(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Sh(this.value_):e+=this.value_,this.lazyHash_=bh(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Be.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Be.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Be.VALUE_TYPE_ORDER.indexOf(n),s=Be.VALUE_TYPE_ORDER.indexOf(r);return O(i>=0,"Unknown leaf type: "+n),O(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh,Qh;function TE(t){Gh=t}function xE(t){Qh=t}class AE extends no{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(ln,new Be("[PRIORITY-POST]",Qh))}makePost(e,n){const r=Gh(e);return new se(n,new Be("[PRIORITY-POST]",r))}toString(){return".priority"}}const ye=new AE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=Math.log(2);class kE{constructor(e){const n=s=>parseInt(Math.log(s)/PE,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xs=function(t,e,n,r){t.sort(e);const i=function(u,d){const p=d-u;let m,g;if(p===0)return null;if(p===1)return m=t[u],g=n?n(m):m,new We(g,m.node,We.BLACK,null,null);{const y=parseInt(p/2,10)+u,I=i(u,y),R=i(y+1,d);return m=t[y],g=n?n(m):m,new We(g,m.node,We.BLACK,I,R)}},s=function(u){let d=null,p=null,m=t.length;const g=function(I,R){const W=m-I,F=m;m-=I;const $=i(W+1,F),J=t[W],V=n?n(J):J;y(new We(V,J.node,R,null,$))},y=function(I){d?(d.left=I,d=I):(p=I,d=I)};for(let I=0;I<u.count;++I){const R=u.nextBitIsOne(),W=Math.pow(2,u.count-(I+1));R?g(W,We.BLACK):(g(W,We.BLACK),g(W,We.RED))}return p},o=new kE(t.length),c=s(o);return new rt(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta;const br={};class tn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(br&&ye,"ChildrenNode.ts has not been loaded"),ta=ta||new tn({".priority":br},{".priority":ye}),ta}get(e){const n=lr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof rt?n:null}hasIndex(e){return ft(this.indexSet_,e.toString())}addIndex(e,n){O(e!==qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(se.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=xs(r,e.getCompare()):c=br;const u=e.toString(),d=Object.assign({},this.indexSet_);d[u]=e;const p=Object.assign({},this.indexes_);return p[u]=c,new tn(p,d)}addToIndexes(e,n){const r=Es(this.indexes_,(i,s)=>{const o=lr(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===br)if(o.isDefinedOn(e.node)){const c=[],u=n.getIterator(se.Wrap);let d=u.getNext();for(;d;)d.name!==e.name&&c.push(d),d=u.getNext();return c.push(e),xs(c,o.getCompare())}else return br;else{const c=n.get(e.name);let u=i;return c&&(u=u.remove(new se(e.name,c))),u.insert(e,e.node)}});return new tn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Es(this.indexes_,i=>{if(i===br)return i;{const s=n.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new tn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi;class q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Kh(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oi||(oi=new q(new rt(xl),null,tn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oi}updatePriority(e){return this.children_.isEmpty()?this:new q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?oi:n}}getChild(e){const n=ne(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new se(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?oi:this.priorityNode_;return new q(i,o,s)}}updateChild(e,n){const r=ne(e);if(r===null)return n;{O(ne(e)!==".priority"||Ln(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ye,(o,c)=>{n[o]=c.val(e),r++,s&&q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qh(this.getPriority().val())+":"),this.forEachChild(ye,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":bh(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new se(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new se(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wi?-1:0}withIndex(e){if(e===qt||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qt||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ye),i=n.getIterator(ye);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qt?null:this.indexMap_.get(e.toString())}}q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RE extends q{constructor(){super(new rt(xl),q.EMPTY_NODE,tn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return q.EMPTY_NODE}isEmpty(){return!1}}const Wi=new RE;Object.defineProperties(se,{MIN:{value:new se(Mn,q.EMPTY_NODE)},MAX:{value:new se(ln,Wi)}});zh.__EMPTY_NODE=q.EMPTY_NODE;Be.__childrenNodeConstructor=q;IE(Wi);xE(Wi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=!0;function Te(t,e=null){if(t===null)return q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Be(n,Te(e))}if(!(t instanceof Array)&&OE){const n=[];let r=!1;if(Ue(t,(o,c)=>{if(o.substring(0,1)!=="."){const u=Te(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new se(o,u)))}}),n.length===0)return q.EMPTY_NODE;const s=xs(n,SE,o=>o.name,xl);if(r){const o=xs(n,ye.getCompare());return new q(s,Te(e),new tn({".priority":o},{".priority":ye}))}else return new q(s,Te(e),tn.Default)}else{let n=q.EMPTY_NODE;return Ue(t,(r,i)=>{if(ft(t,r)&&r.substring(0,1)!=="."){const s=Te(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Te(e))}}TE(Te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends no{constructor(e){super(),this.indexPath_=e,O(!re(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hr(e.name,n.name):s}makePost(e,n){const r=Te(e),i=q.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const e=q.EMPTY_NODE.updateChild(this.indexPath_,Wi);return new se(ln,e)}toString(){return Pi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends no{compare(e,n){const r=e.node.compareTo(n.node);return r===0?hr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=Te(e);return new se(n,r)}toString(){return".value"}}const Pl=new NE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){return{type:"value",snapshotNode:t}}function Br(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ki(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ri(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function DE(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ki(n,c)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Br(n,r)):o.trackChildChange(Ri(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ye,(i,s)=>{n.hasChild(i)||r.trackChildChange(ki(i,s))}),n.isLeafNode()||n.forEachChild(ye,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ri(i,s,o))}else r.trackChildChange(Br(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.indexedFilter_=new kl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Oi.getStartPost_(e),this.endPost_=Oi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new se(n,r))||(r=q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(q.EMPTY_NODE);const s=this;return n.forEachChild(ye,(o,c)=>{s.matches(new se(o,c))||(i=i.updateImmediateChild(o,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Oi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new se(n,r))||(r=q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const m=this.index_.getCompare();o=(g,y)=>m(y,g)}else o=this.index_.getCompare();const c=e;O(c.numChildren()===this.limit_,"");const u=new se(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(c.hasChild(n)){const m=c.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,d,this.reverse_);for(;g!=null&&(g.name===n||c.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:o(g,u);if(p&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Ri(n,r,m)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ki(n,m));const R=c.updateImmediateChild(n,q.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Br(g.name,g.node)),R.updateImmediateChild(g.name,g.node)):R}}else return r.isEmpty()?e:p&&o(d,u)>=0?(s!=null&&(s.trackChildChange(ki(d.name,d.node)),s.trackChildChange(Br(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mn}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ln}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const e=new ro;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LE(t){return t.loadsAllData()?new kl(t.getIndex()):t.hasLimit()?new ME(t):new Oi(t)}function FE(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function BE(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Na(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function HE(t,e,n){let r;return t.index_===qt||n?r=Na(t,e,n):r=Na(t,e,ln),r.startAfterSet_=!0,r}function Da(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function WE(t,e,n){let r;return t.index_===qt||n?r=Da(t,e,n):r=Da(t,e,Mn),r.endBeforeSet_=!0,r}function io(t,e){const n=t.copy();return n.index_=e,n}function _d(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ye?n="$priority":t.index_===Pl?n="$value":t.index_===qt?n="$key":(O(t.index_ instanceof Al,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ne(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ne(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ne(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ne(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ne(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends jh{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=As.getListenId_(e,r),c={};this.listens_[o]=c;const u=_d(e._queryParams);this.restRequest_(s+".json",u,(d,p)=>{let m=p;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(s,m,!1,r),lr(this.listens_,o)===c){let g;d?d===401?g="permission_denied":g="rest_error:"+d:g="ok",i(g,null)}})}unlisten(e,n){const r=As.getListenId_(e,n);delete this.listens_[r]}get(e){const n=_d(e._queryParams),r=e._path.toString(),i=new tt;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ob(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Ii(c.responseText)}catch{Ye("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&Ye("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return{value:null,children:new Map}}function Gr(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ne(e);t.children.has(r)||t.children.set(r,Ps());const i=t.children.get(r);e=_e(e),Gr(i,e,n)}}function Ma(t,e){if(re(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ye,(r,i)=>{Gr(t,new fe(r),i)}),Ma(t,e)}}else if(t.children.size>0){const n=ne(e);return e=_e(e),t.children.has(n)&&Ma(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function La(t,e,n){t.value!==null?n(e,t.value):UE(t,(r,i)=>{const s=new fe(e.toString()+"/"+r);La(i,s,n)})}function UE(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ue(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=10*1e3,$E=30*1e3,zE=5*60*1e3;class qE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new VE(e);const r=vd+($E-vd)*Math.random();pi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ue(e,(i,s)=>{s>0&&ft(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),pi(this.reportStats_.bind(this),Math.floor(Math.random()*2*zE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ot||(Ot={}));function Rl(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ol(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Nl(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ot.ACK_USER_WRITE,this.source=Rl()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new fe(e));return new ks(ue(),n,this.revert)}}else return O(ne(this.path)===e,"operationForChild called for unrelated child."),new ks(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.source=e,this.path=n,this.type=Ot.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new Ni(this.source,ue()):new Ni(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ot.OVERWRITE}operationForChild(e){return re(this.path)?new ur(this.source,ue(),this.snap.getImmediateChild(e)):new ur(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ot.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new ur(this.source,ue(),n.value):new Hr(this.source,ue(),n)}else return O(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hr(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function GE(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(DE(o.childName,o.snapshotNode))}),ai(t,i,"child_removed",e,r,n),ai(t,i,"child_added",e,r,n),ai(t,i,"child_moved",s,r,n),ai(t,i,"child_changed",e,r,n),ai(t,i,"value",e,r,n),i}function ai(t,e,n,r,i,s){const o=r.filter(c=>c.type===n);o.sort((c,u)=>YE(t,c,u)),o.forEach(c=>{const u=QE(t,c,s);i.forEach(d=>{d.respondsTo(c.type)&&e.push(d.createEvent(u,t.query_))})})}function QE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function YE(t,e,n){if(e.childName==null||n.childName==null)throw zr("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),i=new se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){return{eventCache:t,serverCache:e}}function mi(t,e,n,r){return so(new Fn(e,n,r),t.serverCache)}function Jh(t,e,n,r){return so(t.eventCache,new Fn(e,n,r))}function Rs(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function dr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na;const JE=()=>(na||(na=new rt(NC)),na);class ve{constructor(e,n=JE()){this.value=e,this.children=n}static fromObject(e){let n=new ve(null);return Ue(e,(r,i)=>{n=n.set(new fe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ue(),value:this.value};if(re(e))return null;{const r=ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return s!=null?{path:Se(new fe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=ne(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new ve(null)}}set(e,n){if(re(e))return new ve(n,this.children);{const r=ne(e),s=(this.children.get(r)||new ve(null)).set(_e(e),n),o=this.children.insert(r,s);return new ve(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=ne(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ve(null):new ve(this.value,s)}else return this}}get(e){if(re(e))return this.value;{const n=ne(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(re(e))return n;{const r=ne(e),s=(this.children.get(r)||new ve(null)).setTree(_e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ve(this.value,o)}}fold(e){return this.fold_(ue(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Se(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ue(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(re(e))return null;{const s=ne(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Se(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ue(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const i=ne(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Se(n,i),r):new ve(null)}}foreach(e){this.foreach_(ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Se(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.writeTree_=e}static empty(){return new Mt(new ve(null))}}function gi(t,e,n){if(re(e))return new Mt(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Xe(i,e);return s=s.updateChild(o,n),new Mt(t.writeTree_.set(i,s))}else{const i=new ve(n),s=t.writeTree_.setTree(e,i);return new Mt(s)}}}function Fa(t,e,n){let r=t;return Ue(n,(i,s)=>{r=gi(r,Se(e,i),s)}),r}function yd(t,e){if(re(e))return Mt.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new Mt(n)}}function Ba(t,e){return pr(t,e)!=null}function pr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function bd(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ye,(r,i)=>{e.push(new se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new se(r,i.value))}),e}function Pn(t,e){if(re(e))return t;{const n=pr(t,e);return n!=null?new Mt(new ve(n)):new Mt(t.writeTree_.subtree(e))}}function Ha(t){return t.writeTree_.isEmpty()}function Wr(t,e){return Xh(ue(),t.writeTree_,e)}function Xh(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Xh(Se(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Se(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){return np(e,t)}function XE(t,e,n,r,i){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=gi(t.visibleWrites,e,n)),t.lastWriteId=r}function ZE(t,e,n,r){O(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Fa(t.visibleWrites,e,n),t.lastWriteId=r}function e0(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function t0(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&n0(c,r.path)?i=!1:Ct(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return r0(t),!0;if(r.snap)t.visibleWrites=yd(t.visibleWrites,r.path);else{const c=r.children;Ue(c,u=>{t.visibleWrites=yd(t.visibleWrites,Se(r.path,u))})}return!0}else return!1}function n0(t,e){if(t.snap)return Ct(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ct(Se(t.path,n),e))return!0;return!1}function r0(t){t.visibleWrites=Zh(t.allWrites,i0,ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function i0(t){return t.visible}function Zh(t,e,n){let r=Mt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let c;if(s.snap)Ct(n,o)?(c=Xe(n,o),r=gi(r,c,s.snap)):Ct(o,n)&&(c=Xe(o,n),r=gi(r,ue(),s.snap.getChild(c)));else if(s.children){if(Ct(n,o))c=Xe(n,o),r=Fa(r,c,s.children);else if(Ct(o,n))if(c=Xe(o,n),re(c))r=Fa(r,ue(),s.children);else{const u=lr(s.children,ne(c));if(u){const d=u.getChild(_e(c));r=gi(r,ue(),d)}}}else throw zr("WriteRecord should have .snap or .children")}}return r}function ep(t,e,n,r,i){if(!r&&!i){const s=pr(t.visibleWrites,e);if(s!=null)return s;{const o=Pn(t.visibleWrites,e);if(Ha(o))return n;if(n==null&&!Ba(o,ue()))return null;{const c=n||q.EMPTY_NODE;return Wr(o,c)}}}else{const s=Pn(t.visibleWrites,e);if(!i&&Ha(s))return n;if(!i&&n==null&&!Ba(s,ue()))return null;{const o=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(Ct(d.path,e)||Ct(e,d.path))},c=Zh(t.allWrites,o,e),u=n||q.EMPTY_NODE;return Wr(c,u)}}}function s0(t,e,n){let r=q.EMPTY_NODE;const i=pr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ye,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Pn(t.visibleWrites,e);return n.forEachChild(ye,(o,c)=>{const u=Wr(Pn(s,new fe(o)),c);r=r.updateImmediateChild(o,u)}),bd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Pn(t.visibleWrites,e);return bd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function o0(t,e,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Se(e,n);if(Ba(t.visibleWrites,s))return null;{const o=Pn(t.visibleWrites,s);return Ha(o)?i.getChild(n):Wr(o,i.getChild(n))}}function a0(t,e,n,r){const i=Se(e,n),s=pr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Pn(t.visibleWrites,i);return Wr(o,r.getNode().getImmediateChild(n))}else return null}function l0(t,e){return pr(t.visibleWrites,e)}function c0(t,e,n,r,i,s,o){let c;const u=Pn(t.visibleWrites,e),d=pr(u,ue());if(d!=null)c=d;else if(n!=null)c=Wr(u,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const p=[],m=o.getCompare(),g=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let y=g.getNext();for(;y&&p.length<i;)m(y,r)!==0&&p.push(y),y=g.getNext();return p}else return[]}function u0(){return{visibleWrites:Mt.empty(),allWrites:[],lastWriteId:-1}}function Os(t,e,n,r){return ep(t.writeTree,t.treePath,e,n,r)}function Dl(t,e){return s0(t.writeTree,t.treePath,e)}function Cd(t,e,n,r){return o0(t.writeTree,t.treePath,e,n,r)}function Ns(t,e){return l0(t.writeTree,Se(t.treePath,e))}function d0(t,e,n,r,i,s){return c0(t.writeTree,t.treePath,e,n,r,i,s)}function Ml(t,e,n){return a0(t.writeTree,t.treePath,e,n)}function tp(t,e){return np(Se(t.treePath,e),t.writeTree)}function np(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ri(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ki(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Br(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ri(r,e.snapshotNode,i.oldSnap));else throw zr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const rp=new h0;class Ll{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Fn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ml(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dr(this.viewCache_),s=d0(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){return{filter:t}}function m0(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function g0(t,e,n,r,i){const s=new f0;let o,c;if(n.type===Ot.OVERWRITE){const d=n;d.source.fromUser?o=Wa(t,e,d.path,d.snap,r,i,s):(O(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered()&&!re(d.path),o=Ds(t,e,d.path,d.snap,r,i,c,s))}else if(n.type===Ot.MERGE){const d=n;d.source.fromUser?o=w0(t,e,d.path,d.children,r,i,s):(O(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered(),o=ja(t,e,d.path,d.children,r,i,c,s))}else if(n.type===Ot.ACK_USER_WRITE){const d=n;d.revert?o=b0(t,e,d.path,r,i,s):o=v0(t,e,d.path,d.affectedTree,r,i,s)}else if(n.type===Ot.LISTEN_COMPLETE)o=y0(t,e,n.path,r,s);else throw zr("Unknown operation type: "+n.type);const u=s.getChanges();return _0(e,o,u),{viewCache:o,changes:u}}function _0(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Rs(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Yh(Rs(e)))}}function ip(t,e,n,r,i,s){const o=e.eventCache;if(Ns(r,n)!=null)return e;{let c,u;if(re(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=dr(e),p=d instanceof q?d:q.EMPTY_NODE,m=Dl(r,p);c=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const d=Os(r,dr(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const d=ne(n);if(d===".priority"){O(Ln(n)===1,"Can't have a priority with additional path components");const p=o.getNode();u=e.serverCache.getNode();const m=Cd(r,n,p,u);m!=null?c=t.filter.updatePriority(p,m):c=o.getNode()}else{const p=_e(n);let m;if(o.isCompleteForChild(d)){u=e.serverCache.getNode();const g=Cd(r,n,o.getNode(),u);g!=null?m=o.getNode().getImmediateChild(d).updateChild(p,g):m=o.getNode().getImmediateChild(d)}else m=Ml(r,d,e.serverCache);m!=null?c=t.filter.updateChild(o.getNode(),d,m,p,i,s):c=o.getNode()}}return mi(e,c,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function Ds(t,e,n,r,i,s,o,c){const u=e.serverCache;let d;const p=o?t.filter:t.filter.getIndexedFilter();if(re(n))d=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const y=u.getNode().updateChild(n,r);d=p.updateFullNode(u.getNode(),y,null)}else{const y=ne(n);if(!u.isCompleteForPath(n)&&Ln(n)>1)return e;const I=_e(n),W=u.getNode().getImmediateChild(y).updateChild(I,r);y===".priority"?d=p.updatePriority(u.getNode(),W):d=p.updateChild(u.getNode(),y,W,I,rp,null)}const m=Jh(e,d,u.isFullyInitialized()||re(n),p.filtersNodes()),g=new Ll(i,m,s);return ip(t,m,n,i,g,c)}function Wa(t,e,n,r,i,s,o){const c=e.eventCache;let u,d;const p=new Ll(i,e,s);if(re(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=mi(e,d,!0,t.filter.filtersNodes());else{const m=ne(n);if(m===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),u=mi(e,d,c.isFullyInitialized(),c.isFiltered());else{const g=_e(n),y=c.getNode().getImmediateChild(m);let I;if(re(g))I=r;else{const R=p.getCompleteChild(m);R!=null?Sl(g)===".priority"&&R.getChild(Vh(g)).isEmpty()?I=R:I=R.updateChild(g,r):I=q.EMPTY_NODE}if(y.equals(I))u=e;else{const R=t.filter.updateChild(c.getNode(),m,I,g,p,o);u=mi(e,R,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Ed(t,e){return t.eventCache.isCompleteForChild(e)}function w0(t,e,n,r,i,s,o){let c=e;return r.foreach((u,d)=>{const p=Se(n,u);Ed(e,ne(p))&&(c=Wa(t,c,p,d,i,s,o))}),r.foreach((u,d)=>{const p=Se(n,u);Ed(e,ne(p))||(c=Wa(t,c,p,d,i,s,o))}),c}function Sd(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ja(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,d;re(n)?d=r:d=new ve(null).setTree(n,r);const p=e.serverCache.getNode();return d.children.inorderTraversal((m,g)=>{if(p.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),I=Sd(t,y,g);u=Ds(t,u,new fe(m),I,i,s,o,c)}}),d.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!p.hasChild(m)&&!y){const I=e.serverCache.getNode().getImmediateChild(m),R=Sd(t,I,g);u=Ds(t,u,new fe(m),R,i,s,o,c)}}),u}function v0(t,e,n,r,i,s,o){if(Ns(i,n)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(re(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ds(t,e,n,u.getNode().getChild(n),i,s,c,o);if(re(n)){let d=new ve(null);return u.getNode().forEachChild(qt,(p,m)=>{d=d.set(new fe(p),m)}),ja(t,e,n,d,i,s,c,o)}else return e}else{let d=new ve(null);return r.foreach((p,m)=>{const g=Se(n,p);u.isCompleteForPath(g)&&(d=d.set(p,u.getNode().getChild(g)))}),ja(t,e,n,d,i,s,c,o)}}function y0(t,e,n,r,i){const s=e.serverCache,o=Jh(e,s.getNode(),s.isFullyInitialized()||re(n),s.isFiltered());return ip(t,o,n,r,rp,i)}function b0(t,e,n,r,i,s){let o;if(Ns(r,n)!=null)return e;{const c=new Ll(r,e,i),u=e.eventCache.getNode();let d;if(re(n)||ne(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Os(r,dr(e));else{const m=e.serverCache.getNode();O(m instanceof q,"serverChildren would be complete if leaf node"),p=Dl(r,m)}p=p,d=t.filter.updateFullNode(u,p,s)}else{const p=ne(n);let m=Ml(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=u.getImmediateChild(p)),m!=null?d=t.filter.updateChild(u,p,m,_e(n),c,s):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(u,p,q.EMPTY_NODE,_e(n),c,s):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Os(r,dr(e)),o.isLeafNode()&&(d=t.filter.updateFullNode(d,o,s)))}return o=e.serverCache.isFullyInitialized()||Ns(r,ue())!=null,mi(e,d,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new kl(r.getIndex()),s=LE(r);this.processor_=p0(s);const o=n.serverCache,c=n.eventCache,u=i.updateFullNode(q.EMPTY_NODE,o.getNode(),null),d=s.updateFullNode(q.EMPTY_NODE,c.getNode(),null),p=new Fn(u,o.isFullyInitialized(),i.filtersNodes()),m=new Fn(d,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=so(m,p),this.eventGenerator_=new KE(this.query_)}get query(){return this.query_}}function E0(t){return t.viewCache_.serverCache.getNode()}function S0(t){return Rs(t.viewCache_)}function I0(t,e){const n=dr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(ne(e)).isEmpty())?n.getChild(e):null}function Id(t){return t.eventRegistrations_.length===0}function T0(t,e){t.eventRegistrations_.push(e)}function Td(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function xd(t,e,n,r){e.type===Ot.MERGE&&e.source.queryId!==null&&(O(dr(t.viewCache_),"We should always have a full cache before handling merges"),O(Rs(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=g0(t.processor_,i,e,n,r);return m0(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,sp(t,s.changes,s.viewCache.eventCache.getNode(),null)}function x0(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ye,(s,o)=>{r.push(Br(s,o))}),n.isFullyInitialized()&&r.push(Yh(n.getNode())),sp(t,r,n.getNode(),e)}function sp(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return GE(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms;class op{constructor(){this.views=new Map}}function A0(t){O(!Ms,"__referenceConstructor has already been defined"),Ms=t}function P0(){return O(Ms,"Reference.ts has not been loaded"),Ms}function k0(t){return t.views.size===0}function Fl(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return O(s!=null,"SyncTree gave us an op for an invalid query."),xd(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(xd(o,e,n,r));return s}}function ap(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let c=Os(n,i?r:null),u=!1;c?u=!0:r instanceof q?(c=Dl(n,r),u=!1):(c=q.EMPTY_NODE,u=!1);const d=so(new Fn(c,u,!1),new Fn(r,i,!1));return new C0(e,d)}return o}function R0(t,e,n,r,i,s){const o=ap(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),T0(o,n),x0(o,n)}function O0(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const c=Bn(t);if(i==="default")for(const[u,d]of t.views.entries())o=o.concat(Td(d,n,r)),Id(d)&&(t.views.delete(u),d.query._queryParams.loadsAllData()||s.push(d.query));else{const u=t.views.get(i);u&&(o=o.concat(Td(u,n,r)),Id(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!Bn(t)&&s.push(new(P0())(e._repo,e._path)),{removed:s,events:o}}function lp(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kn(t,e){let n=null;for(const r of t.views.values())n=n||I0(r,e);return n}function cp(t,e){if(e._queryParams.loadsAllData())return ao(t);{const r=e._queryIdentifier;return t.views.get(r)}}function up(t,e){return cp(t,e)!=null}function Bn(t){return ao(t)!=null}function ao(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls;function N0(t){O(!Ls,"__referenceConstructor has already been defined"),Ls=t}function D0(){return O(Ls,"Reference.ts has not been loaded"),Ls}let M0=1;class Ad{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=u0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bl(t,e,n,r,i){return XE(t.pendingWriteTree_,e,n,r,i),i?Qr(t,new ur(Rl(),e,n)):[]}function L0(t,e,n,r){ZE(t.pendingWriteTree_,e,n,r);const i=ve.fromObject(n);return Qr(t,new Hr(Rl(),e,i))}function Sn(t,e,n=!1){const r=e0(t.pendingWriteTree_,e);if(t0(t.pendingWriteTree_,e)){let s=new ve(null);return r.snap!=null?s=s.set(ue(),!0):Ue(r.children,o=>{s=s.set(new fe(o),!0)}),Qr(t,new ks(r.path,s,n))}else return[]}function ji(t,e,n){return Qr(t,new ur(Ol(),e,n))}function F0(t,e,n){const r=ve.fromObject(n);return Qr(t,new Hr(Ol(),e,r))}function B0(t,e){return Qr(t,new Ni(Ol(),e))}function H0(t,e,n){const r=Hl(t,n);if(r){const i=Wl(r),s=i.path,o=i.queryId,c=Xe(s,e),u=new Ni(Nl(o),c);return jl(t,s,u)}else return[]}function Fs(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let c=[];if(o&&(e._queryIdentifier==="default"||up(o,e))){const u=O0(o,e,n,r);k0(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const d=u.removed;if(c=u.events,!i){const p=d.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,y)=>Bn(y));if(p&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const y=U0(g);for(let I=0;I<y.length;++I){const R=y[I],W=R.query,F=pp(t,R);t.listenProvider_.startListening(_i(W),Di(t,W),F.hashFn,F.onComplete)}}}!m&&d.length>0&&!r&&(p?t.listenProvider_.stopListening(_i(e),null):d.forEach(g=>{const y=t.queryToTagMap.get(co(g));t.listenProvider_.stopListening(_i(g),y)}))}V0(t,d)}return c}function dp(t,e,n,r){const i=Hl(t,r);if(i!=null){const s=Wl(i),o=s.path,c=s.queryId,u=Xe(o,e),d=new ur(Nl(c),u,n);return jl(t,o,d)}else return[]}function W0(t,e,n,r){const i=Hl(t,r);if(i){const s=Wl(i),o=s.path,c=s.queryId,u=Xe(o,e),d=ve.fromObject(n),p=new Hr(Nl(c),u,d);return jl(t,o,p)}else return[]}function Ua(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,y)=>{const I=Xe(g,i);s=s||kn(y,I),o=o||Bn(y)});let c=t.syncPointTree_.get(i);c?(o=o||Bn(c),s=s||kn(c,ue())):(c=new op,t.syncPointTree_=t.syncPointTree_.set(i,c));let u;s!=null?u=!0:(u=!1,s=q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((y,I)=>{const R=kn(I,ue());R&&(s=s.updateImmediateChild(y,R))}));const d=up(c,e);if(!d&&!e._queryParams.loadsAllData()){const g=co(e);O(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=$0();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}const p=oo(t.pendingWriteTree_,i);let m=R0(c,e,n,p,s,u);if(!d&&!o&&!r){const g=cp(c,e);m=m.concat(z0(t,e,g))}return m}function lo(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{const u=Xe(o,e),d=kn(c,u);if(d)return d});return ep(i,e,s,n,!0)}function j0(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(d,p)=>{const m=Xe(d,n);r=r||kn(p,m)});let i=t.syncPointTree_.get(n);i?r=r||kn(i,ue()):(i=new op,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Fn(r,!0,!1):null,c=oo(t.pendingWriteTree_,e._path),u=ap(i,e,c,s?o.getNode():q.EMPTY_NODE,s);return S0(u)}function Qr(t,e){return fp(e,t.syncPointTree_,null,oo(t.pendingWriteTree_,ue()))}function fp(t,e,n,r){if(re(t.path))return hp(t,e,n,r);{const i=e.get(ue());n==null&&i!=null&&(n=kn(i,ue()));let s=[];const o=ne(t.path),c=t.operationForChild(o),u=e.children.get(o);if(u&&c){const d=n?n.getImmediateChild(o):null,p=tp(r,o);s=s.concat(fp(c,u,d,p))}return i&&(s=s.concat(Fl(i,t,r,n))),s}}function hp(t,e,n,r){const i=e.get(ue());n==null&&i!=null&&(n=kn(i,ue()));let s=[];return e.children.inorderTraversal((o,c)=>{const u=n?n.getImmediateChild(o):null,d=tp(r,o),p=t.operationForChild(o);p&&(s=s.concat(hp(p,c,u,d)))}),i&&(s=s.concat(Fl(i,t,r,n))),s}function pp(t,e){const n=e.query,r=Di(t,n);return{hashFn:()=>(E0(e)||q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?H0(t,n._path,r):B0(t,n._path);{const s=LC(i,n);return Fs(t,n,null,s)}}}}function Di(t,e){const n=co(e);return t.queryToTagMap.get(n)}function co(t){return t._path.toString()+"$"+t._queryIdentifier}function Hl(t,e){return t.tagToQueryMap.get(e)}function Wl(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function jl(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const i=oo(t.pendingWriteTree_,e);return Fl(r,n,i,null)}function U0(t){return t.fold((e,n,r)=>{if(n&&Bn(n))return[ao(n)];{let i=[];return n&&(i=lp(n)),Ue(r,(s,o)=>{i=i.concat(o)}),i}})}function _i(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(D0())(t._repo,t._path):t}function V0(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=co(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function $0(){return M0++}function z0(t,e,n){const r=e._path,i=Di(t,e),s=pp(t,n),o=t.listenProvider_.startListening(_i(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)O(!Bn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((d,p,m)=>{if(!re(d)&&p&&Bn(p))return[ao(p).query];{let g=[];return p&&(g=g.concat(lp(p).map(y=>y.query))),Ue(m,(y,I)=>{g=g.concat(I)}),g}});for(let d=0;d<u.length;++d){const p=u[d];t.listenProvider_.stopListening(_i(p),Di(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ul(n)}node(){return this.node_}}class Vl{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Se(this.path_,e);return new Vl(this.syncTree_,n)}node(){return lo(this.syncTree_,this.path_)}}const q0=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Pd=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return K0(t[".sv"],e,n);if(typeof t[".sv"]=="object")return G0(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},K0=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},G0=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const i=e.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},mp=function(t,e,n,r){return zl(e,new Vl(n,t),r)},$l=function(t,e,n){return zl(t,new Ul(e),n)};function zl(t,e,n){const r=t.getPriority().val(),i=Pd(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,c=Pd(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new Be(c,Te(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Be(i))),o.forEachChild(ye,(c,u)=>{const d=zl(u,e.getImmediateChild(c),n);d!==u&&(s=s.updateImmediateChild(c,d))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uo(t,e){let n=e instanceof fe?e:new fe(e),r=t,i=ne(n);for(;i!==null;){const s=lr(r.node.children,i)||{children:{},childCount:0};r=new ql(i,r,s),n=_e(n),i=ne(n)}return r}function mr(t){return t.node.value}function Kl(t,e){t.node.value=e,Va(t)}function gp(t){return t.node.childCount>0}function Q0(t){return mr(t)===void 0&&!gp(t)}function fo(t,e){Ue(t.node.children,(n,r)=>{e(new ql(n,t,r))})}function _p(t,e,n,r){n&&!r&&e(t),fo(t,i=>{_p(i,e,!0,r)}),n&&r&&e(t)}function Y0(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ui(t){return new fe(t.parent===null?t.name:Ui(t.parent)+"/"+t.name)}function Va(t){t.parent!==null&&J0(t.parent,t.name,t)}function J0(t,e,n){const r=Q0(n),i=ft(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Va(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Va(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=/[\[\].#$\/\u0000-\u001F\u007F]/,Z0=/[\[\].#$\u0000-\u001F\u007F]/,ra=10*1024*1024,ho=function(t){return typeof t=="string"&&t.length!==0&&!X0.test(t)},wp=function(t){return typeof t=="string"&&t.length!==0&&!Z0.test(t)},eS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wp(t)},Mi=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!to(t)||t&&typeof t=="object"&&ft(t,".sv")},Gt=function(t,e,n,r){r&&e===void 0||Vi(it(t,"value"),e,n)},Vi=function(t,e,n){const r=n instanceof fe?new gE(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Jn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Jn(r)+" with contents = "+e.toString());if(to(e))throw new Error(t+"contains "+e.toString()+" "+Jn(r));if(typeof e=="string"&&e.length>ra/3&&Zs(e)>ra)throw new Error(t+"contains a string greater than "+ra+" utf8 bytes "+Jn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ue(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!ho(o)))throw new Error(t+" contains an invalid key ("+o+") "+Jn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_E(r,o),Vi(t,c,r),wE(r)}),i&&s)throw new Error(t+' contains ".value" child '+Jn(r)+" in addition to actual children.")}},tS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Pi(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!ho(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(mE);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Ct(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},vp=function(t,e,n,r){if(r&&e===void 0)return;const i=it(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ue(e,(o,c)=>{const u=new fe(o);if(Vi(i,c,Se(n,u)),Sl(u)===".priority"&&!Mi(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),tS(i,s)},Gl=function(t,e,n){if(!(n&&e===void 0)){if(to(e))throw new Error(it(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Mi(e))throw new Error(it(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$i=function(t,e,n,r){if(!(r&&n===void 0)&&!ho(n))throw new Error(it(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Li=function(t,e,n,r){if(!(r&&n===void 0)&&!wp(n))throw new Error(it(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nS=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Li(t,e,n,r)},Et=function(t,e){if(ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},yp=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ho(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!eS(n))throw new Error(it(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function po(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Il(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function bp(t,e,n){po(t,n),Cp(t,r=>Il(r,e))}function ht(t,e,n){po(t,n),Cp(t,r=>Ct(r,e)||Ct(e,r))}function Cp(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(iS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function iS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();sr&&je("event: "+n.toString()),Kr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="repo_interrupt",sS=25;class oS{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ps(),this.transactionQueueTree_=new ql,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aS(t,e,n){if(t.stats_=Cl(t.repoInfo_),t.forceRestClient_||WC())t.server_=new As(t.repoInfo_,(r,i,s,o)=>{kd(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Rd(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new on(t.repoInfo_,e,(r,i,s,o)=>{kd(t,r,i,s,o)},r=>{Rd(t,r)},r=>{lS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=zC(t.repoInfo_,()=>new qE(t.stats_,t.server_)),t.infoData_=new jE,t.infoSyncTree_=new Ad({startListening:(r,i,s,o)=>{let c=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(c=ji(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),Ql(t,"connected",!1),t.serverSyncTree_=new Ad({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,u)=>{const d=o(c,u);ht(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Sp(t){const n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function zi(t){return q0({timestamp:Sp(t)})}function kd(t,e,n,r,i){t.dataUpdateCount++;const s=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Es(n,d=>Te(d));o=W0(t.serverSyncTree_,s,u,i)}else{const u=Te(n);o=dp(t.serverSyncTree_,s,u,i)}else if(r){const u=Es(n,d=>Te(d));o=F0(t.serverSyncTree_,s,u)}else{const u=Te(n);o=ji(t.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=jr(t,s)),ht(t.eventQueue_,c,o)}function Rd(t,e){Ql(t,"connected",e),e===!1&&dS(t)}function lS(t,e){Ue(e,(n,r)=>{Ql(t,n,r)})}function Ql(t,e,n){const r=new fe("/.info/"+e),i=Te(n);t.infoData_.updateSnapshot(r,i);const s=ji(t.infoSyncTree_,r,i);ht(t.eventQueue_,r,s)}function mo(t){return t.nextWriteId_++}function cS(t,e,n){const r=j0(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Te(i).withIndex(e._queryParams.getIndex());Ua(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ji(t.serverSyncTree_,e._path,s);else{const c=Di(t.serverSyncTree_,e);o=dp(t.serverSyncTree_,e._path,s,c)}return ht(t.eventQueue_,e._path,o),Fs(t.serverSyncTree_,e,n,null,!0),s},i=>(Yr(t,"get for query "+Ne(e)+" failed: "+i),Promise.reject(new Error(i))))}function Yl(t,e,n,r,i){Yr(t,"set",{path:e.toString(),value:n,priority:r});const s=zi(t),o=Te(n,r),c=lo(t.serverSyncTree_,e),u=$l(o,c,s),d=mo(t),p=Bl(t.serverSyncTree_,e,u,d,!0);po(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(g,y)=>{const I=g==="ok";I||Ye("set at "+e+" failed: "+g);const R=Sn(t.serverSyncTree_,d,!I);ht(t.eventQueue_,e,R),Hn(t,i,g,y)});const m=Xl(t,e);jr(t,m),ht(t.eventQueue_,m,[])}function uS(t,e,n,r){Yr(t,"update",{path:e.toString(),value:n});let i=!0;const s=zi(t),o={};if(Ue(n,(c,u)=>{i=!1,o[c]=mp(Se(e,c),Te(u),t.serverSyncTree_,s)}),i)je("update() called with empty data.  Don't do anything."),Hn(t,r,"ok",void 0);else{const c=mo(t),u=L0(t.serverSyncTree_,e,o,c);po(t.eventQueue_,u),t.server_.merge(e.toString(),n,(d,p)=>{const m=d==="ok";m||Ye("update at "+e+" failed: "+d);const g=Sn(t.serverSyncTree_,c,!m),y=g.length>0?jr(t,e):e;ht(t.eventQueue_,y,g),Hn(t,r,d,p)}),Ue(n,d=>{const p=Xl(t,Se(e,d));jr(t,p)}),ht(t.eventQueue_,e,[])}}function dS(t){Yr(t,"onDisconnectEvents");const e=zi(t),n=Ps();La(t.onDisconnect_,ue(),(i,s)=>{const o=mp(i,s,t.serverSyncTree_,e);Gr(n,i,o)});let r=[];La(n,ue(),(i,s)=>{r=r.concat(ji(t.serverSyncTree_,i,s));const o=Xl(t,i);jr(t,o)}),t.onDisconnect_=Ps(),ht(t.eventQueue_,ue(),r)}function fS(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&Ma(t.onDisconnect_,e),Hn(t,n,r,i)})}function Od(t,e,n,r){const i=Te(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&Gr(t.onDisconnect_,e,i),Hn(t,r,s,o)})}function hS(t,e,n,r,i){const s=Te(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,c)=>{o==="ok"&&Gr(t.onDisconnect_,e,s),Hn(t,i,o,c)})}function pS(t,e,n,r){if(Ea(n)){je("onDisconnect().update() called with empty data.  Don't do anything."),Hn(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&Ue(n,(o,c)=>{const u=Te(c);Gr(t.onDisconnect_,Se(e,o),u)}),Hn(t,r,i,s)})}function mS(t,e,n){let r;ne(e._path)===".info"?r=Ua(t.infoSyncTree_,e,n):r=Ua(t.serverSyncTree_,e,n),bp(t.eventQueue_,e._path,r)}function $a(t,e,n){let r;ne(e._path)===".info"?r=Fs(t.infoSyncTree_,e,n):r=Fs(t.serverSyncTree_,e,n),bp(t.eventQueue_,e._path,r)}function Ip(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ep)}function gS(t){t.persistentConnection_&&t.persistentConnection_.resume(Ep)}function Yr(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),je(n,...e)}function Hn(t,e,n,r){e&&Kr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function _S(t,e,n,r,i,s){Yr(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:yh(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Jl(t,e,void 0);o.currentInputSnapshot=c;const u=o.update(c.val());if(u===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Vi("transaction failed: Data returned ",u,o.path),o.status=0;const d=uo(t.transactionQueueTree_,e),p=mr(d)||[];p.push(o),Kl(d,p);let m;typeof u=="object"&&u!==null&&ft(u,".priority")?(m=lr(u,".priority"),O(Mi(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(lo(t.serverSyncTree_,e)||q.EMPTY_NODE).getPriority().val();const g=zi(t),y=Te(u,m),I=$l(y,c,g);o.currentOutputSnapshotRaw=y,o.currentOutputSnapshotResolved=I,o.currentWriteId=mo(t);const R=Bl(t.serverSyncTree_,e,I,o.currentWriteId,o.applyLocally);ht(t.eventQueue_,e,R),go(t,t.transactionQueueTree_)}}function Jl(t,e,n){return lo(t.serverSyncTree_,e,n)||q.EMPTY_NODE}function go(t,e=t.transactionQueueTree_){if(e||_o(t,e),mr(e)){const n=xp(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wS(t,Ui(e),n)}else gp(e)&&fo(e,n=>{go(t,n)})}function wS(t,e,n){const r=n.map(d=>d.currentWriteId),i=Jl(t,e,r);let s=i;const o=i.hash();for(let d=0;d<n.length;d++){const p=n[d];O(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Xe(e,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const c=s.val(!0),u=e;t.server_.put(u.toString(),c,d=>{Yr(t,"transaction put response",{path:u.toString(),status:d});let p=[];if(d==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,p=p.concat(Sn(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();_o(t,uo(t.transactionQueueTree_,e)),go(t,t.transactionQueueTree_),ht(t.eventQueue_,e,p);for(let g=0;g<m.length;g++)Kr(m[g])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Ye("transaction at "+u.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}jr(t,e)}},o)}function jr(t,e){const n=Tp(t,e),r=Ui(n),i=xp(t,n);return vS(t,i,r),r}function vS(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],d=Xe(n,u.path);let p=!1,m;if(O(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,m=u.abortReason,i=i.concat(Sn(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=sS)p=!0,m="maxretry",i=i.concat(Sn(t.serverSyncTree_,u.currentWriteId,!0));else{const g=Jl(t,u.path,o);u.currentInputSnapshot=g;const y=e[c].update(g.val());if(y!==void 0){Vi("transaction failed: Data returned ",y,u.path);let I=Te(y);typeof y=="object"&&y!=null&&ft(y,".priority")||(I=I.updatePriority(g.getPriority()));const W=u.currentWriteId,F=zi(t),$=$l(I,g,F);u.currentOutputSnapshotRaw=I,u.currentOutputSnapshotResolved=$,u.currentWriteId=mo(t),o.splice(o.indexOf(W),1),i=i.concat(Bl(t.serverSyncTree_,u.path,$,u.currentWriteId,u.applyLocally)),i=i.concat(Sn(t.serverSyncTree_,W,!0))}else p=!0,m="nodata",i=i.concat(Sn(t.serverSyncTree_,u.currentWriteId,!0))}ht(t.eventQueue_,n,i),i=[],p&&(e[c].status=2,function(g){setTimeout(g,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(m),!1,null))))}_o(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)Kr(r[c]);go(t,t.transactionQueueTree_)}function Tp(t,e){let n,r=t.transactionQueueTree_;for(n=ne(e);n!==null&&mr(r)===void 0;)r=uo(r,n),e=_e(e),n=ne(e);return r}function xp(t,e){const n=[];return Ap(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Ap(t,e,n){const r=mr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fo(e,i=>{Ap(t,i,n)})}function _o(t,e){const n=mr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Kl(e,n.length>0?n:void 0)}fo(e,r=>{_o(t,r)})}function Xl(t,e){const n=Ui(Tp(t,e)),r=uo(t.transactionQueueTree_,e);return Y0(r,i=>{ia(t,i)}),ia(t,r),_p(r,i=>{ia(t,i)}),n}function ia(t,e){const n=mr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Sn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Kl(e,void 0):n.length=s+1,ht(t.eventQueue_,Ui(e),i);for(let o=0;o<r.length;o++)Kr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function bS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ye(`Invalid query segment '${n}' in query '${t}'`)}return e}const za=function(t,e){const n=CS(t),r=n.namespace;n.domain==="firebase.com"&&Kt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Kt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||RC();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Dh(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new fe(n.pathString)}},CS=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",u=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(c=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(i=yS(t.substring(p,m)));const g=bS(t.substring(Math.min(t.length,m)));d=e.indexOf(":"),d>=0?(o=c==="https"||c==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;const y=e.slice(0,d);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ES=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Nd.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Nd.charAt(e[i]);return O(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}}class kp{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SS=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new tt;return fS(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Et("OnDisconnect.remove",this._path);const e=new tt;return Od(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Et("OnDisconnect.set",this._path),Gt("OnDisconnect.set",e,this._path,!1);const n=new tt;return Od(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Et("OnDisconnect.setWithPriority",this._path),Gt("OnDisconnect.setWithPriority",e,this._path,!1),Gl("OnDisconnect.setWithPriority",n,!1);const r=new tt;return hS(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Et("OnDisconnect.update",this._path),vp("OnDisconnect.update",e,this._path,!1);const n=new tt;return pS(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:Sl(this._path)}get ref(){return new St(this._repo,this._path)}get _queryIdentifier(){const e=wd(this._queryParams),n=yl(e);return n==="{}"?"default":n}get _queryObject(){return wd(this._queryParams)}isEqual(e){if(e=pt(e),!(e instanceof ot))return!1;const n=this._repo===e._repo,r=Il(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+pE(this._path)}}function wo(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Wn(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qt){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Mn)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ln)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ye){if(e!=null&&!Mi(e)||n!=null&&!Mi(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.getIndex()instanceof Al||t.getIndex()===Pl,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vo(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class St extends ot{constructor(e,n){super(e,n,new ro,!1)}get parent(){const e=Vh(this._path);return e===null?null:new St(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let yo=class qa{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new fe(e),r=fr(this.ref,e);return new qa(this._node.getChild(n),r,ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new qa(i,fr(this.ref,r),ye)))}hasChild(e){const n=new fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Rp(t,e){return t=pt(t),t._checkNotDeleted("ref"),e!==void 0?fr(t._root,e):t._root}function Dd(t,e){t=pt(t),t._checkNotDeleted("refFromURL");const n=za(e,t._repo.repoInfo_.nodeAdmin);yp("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Kt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Rp(t,n.path.toString())}function fr(t,e){return t=pt(t),ne(t._path)===null?nS("child","path",e,!1):Li("child","path",e,!1),new St(t._repo,Se(t._path,e))}function IS(t,e){t=pt(t),Et("push",t._path),Gt("push",e,t._path,!0);const n=Sp(t._repo),r=ES(n),i=fr(t,r),s=fr(t,r);let o;return e!=null?o=ec(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function TS(t){return Et("remove",t._path),ec(t,null)}function ec(t,e){t=pt(t),Et("set",t._path),Gt("set",e,t._path,!1);const n=new tt;return Yl(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function xS(t,e){t=pt(t),Et("setPriority",t._path),Gl("setPriority",e,!1);const n=new tt;return Yl(t._repo,Se(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function AS(t,e,n){if(Et("setWithPriority",t._path),Gt("setWithPriority",e,t._path,!1),Gl("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new tt;return Yl(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function PS(t,e){vp("update",e,t._path,!1);const n=new tt;return uS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function kS(t){t=pt(t);const e=new Zl(()=>{}),n=new qi(e);return cS(t._repo,t,n).then(r=>new yo(r,new St(t._repo,t._path),t._queryParams.getIndex()))}class qi{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Pp("value",this,new yo(e.snapshotNode,new St(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kp(this,e,n):null}matches(e){return e instanceof qi?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class bo{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kp(this,e,n):null}createEvent(e,n){O(e.childName!=null,"Child events should have a childName.");const r=fr(new St(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Pp(e.type,this,new yo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof bo?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ki(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,d=(p,m)=>{$a(t._repo,t,c),u(p,m)};d.userCallback=n.userCallback,d.context=n.context,n=d}const o=new Zl(n,s||void 0),c=e==="value"?new qi(o):new bo(e,o);return mS(t._repo,t,c),()=>$a(t._repo,t,c)}function Ka(t,e,n,r){return Ki(t,"value",e,n,r)}function Md(t,e,n,r){return Ki(t,"child_added",e,n,r)}function Ld(t,e,n,r){return Ki(t,"child_changed",e,n,r)}function Fd(t,e,n,r){return Ki(t,"child_moved",e,n,r)}function Bd(t,e,n,r){return Ki(t,"child_removed",e,n,r)}function Hd(t,e,n){let r=null;const i=n?new Zl(n):null;e==="value"?r=new qi(i):e&&(r=new bo(e,i)),$a(t._repo,t,r)}class Ft{}class Op extends Ft{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gt("endAt",this._value,e._path,!0);const n=Da(e._queryParams,this._value,this._key);if(vo(n),Wn(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}}function RS(t,e){return $i("endAt","key",e,!0),new Op(t,e)}class OS extends Ft{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gt("endBefore",this._value,e._path,!1);const n=WE(e._queryParams,this._value,this._key);if(vo(n),Wn(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}}function NS(t,e){return $i("endBefore","key",e,!0),new OS(t,e)}class Np extends Ft{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gt("startAt",this._value,e._path,!0);const n=Na(e._queryParams,this._value,this._key);if(vo(n),Wn(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}}function DS(t=null,e){return $i("startAt","key",e,!0),new Np(t,e)}class MS extends Ft{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Gt("startAfter",this._value,e._path,!1);const n=HE(e._queryParams,this._value,this._key);if(vo(n),Wn(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ot(e._repo,e._path,n,e._orderByCalled)}}function LS(t,e){return $i("startAfter","key",e,!0),new MS(t,e)}class FS extends Ft{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ot(e._repo,e._path,FE(e._queryParams,this._limit),e._orderByCalled)}}function BS(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new FS(t)}class HS extends Ft{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ot(e._repo,e._path,BE(e._queryParams,this._limit),e._orderByCalled)}}function WS(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HS(t)}class jS extends Ft{constructor(e){super(),this._path=e}_apply(e){wo(e,"orderByChild");const n=new fe(this._path);if(re(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Al(n),i=io(e._queryParams,r);return Wn(i),new ot(e._repo,e._path,i,!0)}}function US(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Li("orderByChild","path",t,!1),new jS(t)}class VS extends Ft{_apply(e){wo(e,"orderByKey");const n=io(e._queryParams,qt);return Wn(n),new ot(e._repo,e._path,n,!0)}}function $S(){return new VS}class zS extends Ft{_apply(e){wo(e,"orderByPriority");const n=io(e._queryParams,ye);return Wn(n),new ot(e._repo,e._path,n,!0)}}function qS(){return new zS}class KS extends Ft{_apply(e){wo(e,"orderByValue");const n=io(e._queryParams,Pl);return Wn(n),new ot(e._repo,e._path,n,!0)}}function GS(){return new KS}class QS extends Ft{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Gt("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Op(this._value,this._key)._apply(new Np(this._value,this._key)._apply(e))}}function YS(t,e){return $i("equalTo","key",e,!0),new QS(t,e)}function xt(t,...e){let n=pt(t);for(const r of e)n=r._apply(n);return n}A0(St);N0(St);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="FIREBASE_DATABASE_EMULATOR_HOST",Ga={};let XS=!1;function ZS(t,e,n,r){t.repoInfo_=new Dh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Dp(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Kt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=za(s,i),c=o.repoInfo,u,d;typeof process<"u"&&process.env&&(d=process.env[JS]),d?(u=!0,s=`http://${d}?ns=${c.namespace}`,o=za(s,i),c=o.repoInfo):u=!o.repoInfo.secure;const p=i&&u?new Pr(Pr.OWNER):new UC(t.name,t.options,e);yp("Invalid Firebase Database URL",o),re(o.path)||Kt("Database URL must point to the root of a Firebase Database (not including a child path).");const m=tI(c,t,p,new jC(t.name,n));return new nI(m,t)}function eI(t,e){const n=Ga[e];(!n||n[t.key]!==t)&&Kt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ip(t),delete n[t.key]}function tI(t,e,n,r){let i=Ga[e.name];i||(i={},Ga[e.name]=i);let s=i[t.toURLString()];return s&&Kt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new oS(t,XS,n,r),i[t.toURLString()]=s,s}let nI=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new St(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kt("Cannot call "+e+" on a deleted database.")}};function Mp(){Fr.IS_TRANSPORT_INITIALIZED&&Ye("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function rI(){Mp(),En.forceDisallow()}function iI(){Mp(),yt.forceDisallow(),En.forceAllow()}function sI(t,e,n,r={}){t=pt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Kt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Kt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Pr(Pr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Qy(r.mockUserToken,t.app.options.projectId);s=new Pr(o)}ZS(i,e,n,s)}function oI(t){t=pt(t),t._checkNotDeleted("goOffline"),Ip(t._repo)}function aI(t){t=pt(t),t._checkNotDeleted("goOnline"),gS(t._repo)}function lI(t,e){Ch(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){wh(wl),Lr(new an("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Dp(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),An(td,nd,t),An(td,nd,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={".sv":"timestamp"};function dI(){return uI}function fI(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hI=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function pI(t,e,n){var r;if(t=pt(t),Et("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new tt,o=(u,d,p)=>{let m=null;u?s.reject(u):(m=new yo(p,new St(t._repo,t._path),ye),s.resolve(new hI(d,m)))},c=Ka(t,()=>{});return _S(t._repo,t._path,e,o,c,i),s.promise}on.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};on.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cI();const mI="@firebase/database-compat",gI="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new eo("@firebase/database-compat"),Lp=function(t){const e="FIREBASE WARNING: "+t;_I.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(it(t,e)+"must be a boolean.")},vI=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(it(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this._delegate=e}cancel(e){K("OnDisconnect.cancel",0,1,arguments.length),He("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){K("OnDisconnect.remove",0,1,arguments.length),He("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){K("OnDisconnect.set",1,2,arguments.length),He("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){K("OnDisconnect.setWithPriority",2,3,arguments.length),He("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(K("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Lp("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}He("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return K("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this._database=e,this._delegate=n}val(){return K("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return K("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return K("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return K("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return K("DataSnapshot.child",0,1,arguments.length),e=String(e),Li("DataSnapshot.child","path",e,!1),new Rn(this._database,this._delegate.child(e))}hasChild(e){return K("DataSnapshot.hasChild",1,1,arguments.length),Li("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return K("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return K("DataSnapshot.forEach",1,1,arguments.length),He("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Rn(this._database,n)))}hasChildren(){return K("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return K("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return K("DataSnapshot.ref",0,0,arguments.length),new dt(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ve{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;K("Query.on",2,4,arguments.length),He("Query.on","callback",n,!1);const o=Ve.getCancelAndContextArgs_("Query.on",r,i),c=(d,p)=>{n.call(o.context,new Rn(this.database,d),p)};c.userCallback=n,c.context=o.context;const u=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return Ka(this._delegate,c,u),n;case"child_added":return Md(this._delegate,c,u),n;case"child_removed":return Bd(this._delegate,c,u),n;case"child_changed":return Ld(this._delegate,c,u),n;case"child_moved":return Fd(this._delegate,c,u),n;default:throw new Error(it("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(K("Query.off",0,3,arguments.length),vI("Query.off",e,!0),He("Query.off","callback",n,!0),zu("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,Hd(this._delegate,e,i)}else Hd(this._delegate,e)}get(){return kS(this._delegate).then(e=>new Rn(this.database,e))}once(e,n,r,i){K("Query.once",1,4,arguments.length),He("Query.once","callback",n,!0);const s=Ve.getCancelAndContextArgs_("Query.once",r,i),o=new tt,c=(d,p)=>{const m=new Rn(this.database,d);n&&n.call(s.context,m,p),o.resolve(m)};c.userCallback=n,c.context=s.context;const u=d=>{s.cancel&&s.cancel.call(s.context,d),o.reject(d)};switch(e){case"value":Ka(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":Md(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":Bd(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":Ld(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":Fd(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error(it("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return K("Query.limitToFirst",1,1,arguments.length),new Ve(this.database,xt(this._delegate,BS(e)))}limitToLast(e){return K("Query.limitToLast",1,1,arguments.length),new Ve(this.database,xt(this._delegate,WS(e)))}orderByChild(e){return K("Query.orderByChild",1,1,arguments.length),new Ve(this.database,xt(this._delegate,US(e)))}orderByKey(){return K("Query.orderByKey",0,0,arguments.length),new Ve(this.database,xt(this._delegate,$S()))}orderByPriority(){return K("Query.orderByPriority",0,0,arguments.length),new Ve(this.database,xt(this._delegate,qS()))}orderByValue(){return K("Query.orderByValue",0,0,arguments.length),new Ve(this.database,xt(this._delegate,GS()))}startAt(e=null,n){return K("Query.startAt",0,2,arguments.length),new Ve(this.database,xt(this._delegate,DS(e,n)))}startAfter(e=null,n){return K("Query.startAfter",0,2,arguments.length),new Ve(this.database,xt(this._delegate,LS(e,n)))}endAt(e=null,n){return K("Query.endAt",0,2,arguments.length),new Ve(this.database,xt(this._delegate,RS(e,n)))}endBefore(e=null,n){return K("Query.endBefore",0,2,arguments.length),new Ve(this.database,xt(this._delegate,NS(e,n)))}equalTo(e,n){return K("Query.equalTo",1,2,arguments.length),new Ve(this.database,xt(this._delegate,YS(e,n)))}toString(){return K("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return K("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(K("Query.isEqual",1,1,arguments.length),!(e instanceof Ve)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,He(e,"cancel",i.cancel,!0),i.context=r,zu(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(it(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new dt(this.database,new St(this._delegate._repo,this._delegate._path))}}class dt extends Ve{constructor(e,n){super(e,new ot(n._repo,n._path,new ro,!1)),this.database=e,this._delegate=n}getKey(){return K("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return K("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new dt(this.database,fr(this._delegate,e))}getParent(){K("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new dt(this.database,e):null}getRoot(){return K("Reference.root",0,0,arguments.length),new dt(this.database,this._delegate.root)}set(e,n){K("Reference.set",1,2,arguments.length),He("Reference.set","onComplete",n,!0);const r=ec(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(K("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Lp("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("Reference.update",this._delegate._path),He("Reference.update","onComplete",n,!0);const r=PS(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){K("Reference.setWithPriority",2,3,arguments.length),He("Reference.setWithPriority","onComplete",r,!0);const i=AS(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){K("Reference.remove",0,1,arguments.length),He("Reference.remove","onComplete",e,!0);const n=TS(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){K("Reference.transaction",1,3,arguments.length),He("Reference.transaction","transactionUpdate",e,!1),He("Reference.transaction","onComplete",n,!0),wI("Reference.transaction","applyLocally",r,!0);const i=pI(this._delegate,e,{applyLocally:r}).then(s=>new bI(s.committed,new Rn(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){K("Reference.setPriority",1,2,arguments.length),He("Reference.setPriority","onComplete",n,!0);const r=xS(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){K("Reference.push",0,2,arguments.length),He("Reference.push","onComplete",n,!0);const r=IS(this._delegate,e),i=r.then(o=>new dt(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new dt(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Et("Reference.onDisconnect",this._delegate._path),new yI(new SS(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:rI,forceLongPolling:iI}}useEmulator(e,n,r={}){sI(this._delegate,e,n,r)}ref(e){if(K("database.ref",0,1,arguments.length),e instanceof dt){const n=Dd(this._delegate,e.toString());return new dt(this,n)}else{const n=Rp(this._delegate,e);return new dt(this,n)}}refFromURL(e){K("database.refFromURL",1,1,arguments.length);const r=Dd(this._delegate,e);return new dt(this,r)}goOffline(){return K("database.goOffline",0,0,arguments.length),oI(this._delegate)}goOnline(){return K("database.goOnline",0,0,arguments.length),aI(this._delegate)}}Fi.ServerValue={TIMESTAMP:dI(),increment:t=>fI(t)};function CI({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){wh(n);const c=new sh("database-standalone"),u=new Ia("auth-internal",c);u.setComponent(new an("auth-internal",()=>r,"PRIVATE"));let d;return i&&(d=new Ia("app-check-internal",c),d.setComponent(new an("app-check-internal",()=>i,"PRIVATE"))),{instance:new Fi(Dp(t,u,d,e,o),t),namespace:s}}var EI=Object.freeze({__proto__:null,initStandalone:CI});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=Fi.ServerValue;function II(t){t.INTERNAL.registerComponent(new an("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Fi(i,r)},"PUBLIC").setServiceProps({Reference:dt,Query:Ve,Database:Fi,DataSnapshot:Rn,enableLogging:lI,INTERNAL:EI,ServerValue:SI}).setMultipleInstances(!0)),t.registerVersion(mI,gI)}II(Ai);var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function TI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fp={exports:{}};/*!
* sweetalert2 v11.10.0
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(wn,function(){function n(h,a){var l=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(l!=null){var f,_,E,U,X=[],te=!0,Ce=!1;try{if(E=(l=l.call(h)).next,a===0){if(Object(l)!==l)return;te=!1}else for(;!(te=(f=E.call(l)).done)&&(X.push(f.value),X.length!==a);te=!0);}catch(ti){Ce=!0,_=ti}finally{try{if(!te&&l.return!=null&&(U=l.return(),Object(U)!==U))return}finally{if(Ce)throw _}}return X}}function r(h){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r(h)}function i(h,a){if(!(h instanceof a))throw new TypeError("Cannot call a class as a function")}function s(h,a){for(var l=0;l<a.length;l++){var f=a[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,Bt(f.key),f)}}function o(h,a,l){return a&&s(h.prototype,a),l&&s(h,l),Object.defineProperty(h,"prototype",{writable:!1}),h}function c(h,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(a&&a.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),a&&d(h,a)}function u(h){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},u(h)}function d(h,a){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,_){return f.__proto__=_,f},d(h,a)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(h,a,l){return p()?m=Reflect.construct.bind():m=function(_,E,U){var X=[null];X.push.apply(X,E);var te=Function.bind.apply(_,X),Ce=new te;return U&&d(Ce,U.prototype),Ce},m.apply(null,arguments)}function g(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function y(h,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(h)}function I(h){var a=p();return function(){var f=u(h),_;if(a){var E=u(this).constructor;_=Reflect.construct(f,arguments,E)}else _=f.apply(this,arguments);return y(this,_)}}function R(h,a){for(;!Object.prototype.hasOwnProperty.call(h,a)&&(h=u(h),h!==null););return h}function W(){return typeof Reflect<"u"&&Reflect.get?W=Reflect.get.bind():W=function(a,l,f){var _=R(a,l);if(_){var E=Object.getOwnPropertyDescriptor(_,l);return E.get?E.get.call(arguments.length<3?a:f):E.value}},W.apply(this,arguments)}function F(h,a){return V(h)||n(h,a)||Me(h,a)||un()}function $(h){return J(h)||Ae(h)||Me(h)||It()}function J(h){if(Array.isArray(h))return Ze(h)}function V(h){if(Array.isArray(h))return h}function Ae(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function Me(h,a){if(h){if(typeof h=="string")return Ze(h,a);var l=Object.prototype.toString.call(h).slice(8,-1);if(l==="Object"&&h.constructor&&(l=h.constructor.name),l==="Map"||l==="Set")return Array.from(h);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Ze(h,a)}}function Ze(h,a){(a==null||a>h.length)&&(a=h.length);for(var l=0,f=new Array(a);l<a;l++)f[l]=h[l];return f}function It(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(h,a){if(typeof h!="object"||h===null)return h;var l=h[Symbol.toPrimitive];if(l!==void 0){var f=l.call(h,a||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(h)}function Bt(h){var a=mt(h,"string");return typeof a=="symbol"?a:String(a)}function Ht(h,a){var l=dn(h,a,"get");return fn(h,l)}function gt(h,a,l){var f=dn(h,a,"set");return Re(h,f,l),l}function dn(h,a,l){if(!a.has(h))throw new TypeError("attempted to "+l+" private field on non-instance");return a.get(h)}function fn(h,a){return a.get?a.get.call(h):a.value}function Re(h,a,l){if(a.set)a.set.call(h,l);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=l}}function he(h,a){if(a.has(h))throw new TypeError("Cannot initialize the same private elements twice on an object")}function le(h,a,l){he(h,a),a.set(h,l)}var Tt=100,G={},_t=function(){G.previousActiveElement instanceof HTMLElement?(G.previousActiveElement.focus(),G.previousActiveElement=null):document.body&&document.body.focus()},qe=function(a){return new Promise(function(l){if(!a)return l();var f=window.scrollX,_=window.scrollY;G.restoreFocusTimeout=setTimeout(function(){_t(),l()},Tt),window.scrollTo(f,_)})},Qt="swal2-",hn=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],C=hn.reduce(function(h,a){return h[a]=Qt+a,h},{}),Le=["success","warning","info","question","error"],T=Le.reduce(function(h,a){return h[a]=Qt+a,h},{}),H="SweetAlert2:",M=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},B=function(a){console.warn("".concat(H," ").concat(r(a)==="object"?a.join(" "):a))},ie=function(a){console.error("".concat(H," ").concat(a))},w=[],v=function(a){w.includes(a)||(w.push(a),B(a))},b=function(a,l){v('"'.concat(a,'" is deprecated and will be removed in the next major release. Please use "').concat(l,'" instead.'))},S=function(a){return typeof a=="function"?a():a},x=function(a){return a&&typeof a.toPromise=="function"},P=function(a){return x(a)?a.toPromise():Promise.resolve(a)},L=function(a){return a&&Promise.resolve(a)===a},k=function(){return document.body.querySelector(".".concat(C.container))},N=function(a){var l=k();return l?l.querySelector(a):null},A=function(a){return N(".".concat(a))},D=function(){return A(C.popup)},j=function(){return A(C.icon)},z=function(){return A(C["icon-content"])},Q=function(){return A(C.title)},ee=function(){return A(C["html-container"])},pe=function(){return A(C.image)},ce=function(){return A(C["progress-steps"])},be=function(){return A(C["validation-message"])},xe=function(){return N(".".concat(C.actions," .").concat(C.confirm))},at=function(){return N(".".concat(C.actions," .").concat(C.cancel))},Wt=function(){return N(".".concat(C.actions," .").concat(C.deny))},jn=function(){return A(C["input-label"])},Yt=function(){return N(".".concat(C.loader))},Oe=function(){return A(C.actions)},lt=function(){return A(C.footer)},Un=function(){return A(C["timer-progress-bar"])},Co=function(){return A(C.close)},Hp=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Eo=function(){var a=D();if(!a)return[];var l=a.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),f=Array.from(l).sort(function(U,X){var te=parseInt(U.getAttribute("tabindex")||"0"),Ce=parseInt(X.getAttribute("tabindex")||"0");return te>Ce?1:te<Ce?-1:0}),_=a.querySelectorAll(Hp),E=Array.from(_).filter(function(U){return U.getAttribute("tabindex")!=="-1"});return $(new Set(f.concat(E))).filter(function(U){return ut(U)})},So=function(){return Jt(document.body,C.shown)&&!Jt(document.body,C["toast-shown"])&&!Jt(document.body,C["no-backdrop"])},Gi=function(){var a=D();return a?Jt(a,C.toast):!1},Wp=function(){var a=D();return a?a.hasAttribute("data-loading"):!1},ct=function(a,l){if(a.textContent="",l){var f=new DOMParser,_=f.parseFromString(l,"text/html"),E=_.querySelector("head");E&&Array.from(E.childNodes).forEach(function(X){a.appendChild(X)});var U=_.querySelector("body");U&&Array.from(U.childNodes).forEach(function(X){X instanceof HTMLVideoElement||X instanceof HTMLAudioElement?a.appendChild(X.cloneNode(!0)):a.appendChild(X)})}},Jt=function(a,l){if(!l)return!1;for(var f=l.split(/\s+/),_=0;_<f.length;_++)if(!a.classList.contains(f[_]))return!1;return!0},jp=function(a,l){Array.from(a.classList).forEach(function(f){!Object.values(C).includes(f)&&!Object.values(T).includes(f)&&!Object.values(l.showClass||{}).includes(f)&&a.classList.remove(f)})},wt=function(a,l,f){if(jp(a,l),l.customClass&&l.customClass[f]){if(typeof l.customClass[f]!="string"&&!l.customClass[f].forEach){B("Invalid type of customClass.".concat(f,'! Expected string or iterable object, got "').concat(r(l.customClass[f]),'"'));return}oe(a,l.customClass[f])}},Qi=function(a,l){if(!l)return null;switch(l){case"select":case"textarea":case"file":return a.querySelector(".".concat(C.popup," > .").concat(C[l]));case"checkbox":return a.querySelector(".".concat(C.popup," > .").concat(C.checkbox," input"));case"radio":return a.querySelector(".".concat(C.popup," > .").concat(C.radio," input:checked"))||a.querySelector(".".concat(C.popup," > .").concat(C.radio," input:first-child"));case"range":return a.querySelector(".".concat(C.popup," > .").concat(C.range," input"));default:return a.querySelector(".".concat(C.popup," > .").concat(C.input))}},tc=function(a){if(a.focus(),a.type!=="file"){var l=a.value;a.value="",a.value=l}},nc=function(a,l,f){!a||!l||(typeof l=="string"&&(l=l.split(/\s+/).filter(Boolean)),l.forEach(function(_){Array.isArray(a)?a.forEach(function(E){f?E.classList.add(_):E.classList.remove(_)}):f?a.classList.add(_):a.classList.remove(_)}))},oe=function(a,l){nc(a,l,!0)},jt=function(a,l){nc(a,l,!1)},pn=function(a,l){for(var f=Array.from(a.children),_=0;_<f.length;_++){var E=f[_];if(E instanceof HTMLElement&&Jt(E,l))return E}},Vn=function(a,l,f){f==="".concat(parseInt(f))&&(f=parseInt(f)),f||parseInt(f)===0?a.style[l]=typeof f=="number"?"".concat(f,"px"):f:a.style.removeProperty(l)},Fe=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";a&&(a.style.display=l)},Ke=function(a){a&&(a.style.display="none")},Io=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";a&&new MutationObserver(function(){Jr(a,a.innerHTML,l)}).observe(a,{childList:!0,subtree:!0})},rc=function(a,l,f,_){var E=a.querySelector(l);E&&(E.style[f]=_)},Jr=function(a,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";l?Fe(a,f):Ke(a)},ut=function(a){return!!(a&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length))},Up=function(){return!ut(xe())&&!ut(Wt())&&!ut(at())},ic=function(a){return a.scrollHeight>a.clientHeight},sc=function(a){var l=window.getComputedStyle(a),f=parseFloat(l.getPropertyValue("animation-duration")||"0"),_=parseFloat(l.getPropertyValue("transition-duration")||"0");return f>0||_>0},To=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=Un();f&&ut(f)&&(l&&(f.style.transition="none",f.style.width="100%"),setTimeout(function(){f.style.transition="width ".concat(a/1e3,"s linear"),f.style.width="0%"},10))},Vp=function(){var a=Un();if(a){var l=parseInt(window.getComputedStyle(a).width);a.style.removeProperty("transition"),a.style.width="100%";var f=parseInt(window.getComputedStyle(a).width),_=l/f*100;a.style.width="".concat(_,"%")}},oc=function(){return typeof window>"u"||typeof document>"u"},$p=`
 <div aria-labelledby="`.concat(C.title,'" aria-describedby="').concat(C["html-container"],'" class="').concat(C.popup,`" tabindex="-1">
   <button type="button" class="`).concat(C.close,`"></button>
   <ul class="`).concat(C["progress-steps"],`"></ul>
   <div class="`).concat(C.icon,`"></div>
   <img class="`).concat(C.image,`" />
   <h2 class="`).concat(C.title,'" id="').concat(C.title,`"></h2>
   <div class="`).concat(C["html-container"],'" id="').concat(C["html-container"],`"></div>
   <input class="`).concat(C.input,'" id="').concat(C.input,`" />
   <input type="file" class="`).concat(C.file,`" />
   <div class="`).concat(C.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(C.select,'" id="').concat(C.select,`"></select>
   <div class="`).concat(C.radio,`"></div>
   <label class="`).concat(C.checkbox,`">
     <input type="checkbox" id="`).concat(C.checkbox,`" />
     <span class="`).concat(C.label,`"></span>
   </label>
   <textarea class="`).concat(C.textarea,'" id="').concat(C.textarea,`"></textarea>
   <div class="`).concat(C["validation-message"],'" id="').concat(C["validation-message"],`"></div>
   <div class="`).concat(C.actions,`">
     <div class="`).concat(C.loader,`"></div>
     <button type="button" class="`).concat(C.confirm,`"></button>
     <button type="button" class="`).concat(C.deny,`"></button>
     <button type="button" class="`).concat(C.cancel,`"></button>
   </div>
   <div class="`).concat(C.footer,`"></div>
   <div class="`).concat(C["timer-progress-bar-container"],`">
     <div class="`).concat(C["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),zp=function(){var a=k();return a?(a.remove(),jt([document.documentElement,document.body],[C["no-backdrop"],C["toast-shown"],C["has-column"]]),!0):!1},$n=function(){G.currentInstance.resetValidationMessage()},qp=function(){var a=D(),l=pn(a,C.input),f=pn(a,C.file),_=a.querySelector(".".concat(C.range," input")),E=a.querySelector(".".concat(C.range," output")),U=pn(a,C.select),X=a.querySelector(".".concat(C.checkbox," input")),te=pn(a,C.textarea);l.oninput=$n,f.onchange=$n,U.onchange=$n,X.onchange=$n,te.oninput=$n,_.oninput=function(){$n(),E.value=_.value},_.onchange=function(){$n(),E.value=_.value}},Kp=function(a){return typeof a=="string"?document.querySelector(a):a},Gp=function(a){var l=D();l.setAttribute("role",a.toast?"alert":"dialog"),l.setAttribute("aria-live",a.toast?"polite":"assertive"),a.toast||l.setAttribute("aria-modal","true")},Qp=function(a){window.getComputedStyle(a).direction==="rtl"&&oe(k(),C.rtl)},Yp=function(a){var l=zp();if(oc()){ie("SweetAlert2 requires document to initialize");return}var f=document.createElement("div");f.className=C.container,l&&oe(f,C["no-transition"]),ct(f,$p);var _=Kp(a.target);_.appendChild(f),Gp(a),Qp(_),qp()},xo=function(a,l){a instanceof HTMLElement?l.appendChild(a):r(a)==="object"?Jp(a,l):a&&ct(l,a)},Jp=function(a,l){a.jquery?Xp(l,a):ct(l,a.toString())},Xp=function(a,l){if(a.textContent="",0 in l)for(var f=0;f in l;f++)a.appendChild(l[f].cloneNode(!0));else a.appendChild(l.cloneNode(!0))},zn=function(){if(oc())return!1;var h=document.createElement("div");return typeof h.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof h.style.animation<"u"?"animationend":!1}(),Zp=function(a,l){var f=Oe(),_=Yt();!f||!_||(!l.showConfirmButton&&!l.showDenyButton&&!l.showCancelButton?Ke(f):Fe(f),wt(f,l,"actions"),em(f,_,l),ct(_,l.loaderHtml||""),wt(_,l,"loader"))};function em(h,a,l){var f=xe(),_=Wt(),E=at();!f||!_||!E||(Ao(f,"confirm",l),Ao(_,"deny",l),Ao(E,"cancel",l),tm(f,_,E,l),l.reverseButtons&&(l.toast?(h.insertBefore(E,f),h.insertBefore(_,f)):(h.insertBefore(E,a),h.insertBefore(_,a),h.insertBefore(f,a))))}function tm(h,a,l,f){if(!f.buttonsStyling){jt([h,a,l],C.styled);return}oe([h,a,l],C.styled),f.confirmButtonColor&&(h.style.backgroundColor=f.confirmButtonColor,oe(h,C["default-outline"])),f.denyButtonColor&&(a.style.backgroundColor=f.denyButtonColor,oe(a,C["default-outline"])),f.cancelButtonColor&&(l.style.backgroundColor=f.cancelButtonColor,oe(l,C["default-outline"]))}function Ao(h,a,l){var f=M(a);Jr(h,l["show".concat(f,"Button")],"inline-block"),ct(h,l["".concat(a,"ButtonText")]||""),h.setAttribute("aria-label",l["".concat(a,"ButtonAriaLabel")]||""),h.className=C[a],wt(h,l,"".concat(a,"Button"))}var nm=function(a,l){var f=Co();f&&(ct(f,l.closeButtonHtml||""),wt(f,l,"closeButton"),Jr(f,l.showCloseButton),f.setAttribute("aria-label",l.closeButtonAriaLabel||""))},rm=function(a,l){var f=k();f&&(im(f,l.backdrop),sm(f,l.position),om(f,l.grow),wt(f,l,"container"))};function im(h,a){typeof a=="string"?h.style.background=a:a||oe([document.documentElement,document.body],C["no-backdrop"])}function sm(h,a){a&&(a in C?oe(h,C[a]):(B('The "position" parameter is not valid, defaulting to "center"'),oe(h,C.center)))}function om(h,a){a&&oe(h,C["grow-".concat(a)])}var we={innerParams:new WeakMap,domCache:new WeakMap},am=["input","file","range","select","radio","checkbox","textarea"],lm=function(a,l){var f=D();if(f){var _=we.innerParams.get(a),E=!_||l.input!==_.input;am.forEach(function(U){var X=pn(f,C[U]);X&&(dm(U,l.inputAttributes),X.className=C[U],E&&Ke(X))}),l.input&&(E&&cm(l),fm(l))}},cm=function(a){if(a.input){if(!Pe[a.input]){ie("Unexpected type of input! Expected ".concat(Object.keys(Pe).join(" | "),', got "').concat(a.input,'"'));return}var l=ac(a.input),f=Pe[a.input](l,a);Fe(l),a.inputAutoFocus&&setTimeout(function(){tc(f)})}},um=function(a){for(var l=0;l<a.attributes.length;l++){var f=a.attributes[l].name;["id","type","value","style"].includes(f)||a.removeAttribute(f)}},dm=function(a,l){var f=Qi(D(),a);if(f){um(f);for(var _ in l)f.setAttribute(_,l[_])}},fm=function(a){var l=ac(a.input);r(a.customClass)==="object"&&oe(l,a.customClass.input)},Po=function(a,l){(!a.placeholder||l.inputPlaceholder)&&(a.placeholder=l.inputPlaceholder)},Xr=function(a,l,f){if(f.inputLabel){var _=document.createElement("label"),E=C["input-label"];_.setAttribute("for",a.id),_.className=E,r(f.customClass)==="object"&&oe(_,f.customClass.inputLabel),_.innerText=f.inputLabel,l.insertAdjacentElement("beforebegin",_)}},ac=function(a){return pn(D(),C[a]||C.input)},Yi=function(a,l){["string","number"].includes(r(l))?a.value="".concat(l):L(l)||B('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(r(l),'"'))},Pe={};Pe.text=Pe.email=Pe.password=Pe.number=Pe.tel=Pe.url=Pe.search=Pe.date=Pe["datetime-local"]=Pe.time=Pe.week=Pe.month=function(h,a){return Yi(h,a.inputValue),Xr(h,h,a),Po(h,a),h.type=a.input,h},Pe.file=function(h,a){return Xr(h,h,a),Po(h,a),h},Pe.range=function(h,a){var l=h.querySelector("input"),f=h.querySelector("output");return Yi(l,a.inputValue),l.type=a.input,Yi(f,a.inputValue),Xr(l,h,a),h},Pe.select=function(h,a){if(h.textContent="",a.inputPlaceholder){var l=document.createElement("option");ct(l,a.inputPlaceholder),l.value="",l.disabled=!0,l.selected=!0,h.appendChild(l)}return Xr(h,h,a),h},Pe.radio=function(h){return h.textContent="",h},Pe.checkbox=function(h,a){var l=Qi(D(),"checkbox");l.value="1",l.checked=!!a.inputValue;var f=h.querySelector("span");return ct(f,a.inputPlaceholder),l},Pe.textarea=function(h,a){Yi(h,a.inputValue),Po(h,a),Xr(h,h,a);var l=function(_){return parseInt(window.getComputedStyle(_).marginLeft)+parseInt(window.getComputedStyle(_).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var f=parseInt(window.getComputedStyle(D()).width),_=function(){if(document.body.contains(h)){var U=h.offsetWidth+l(h);U>f?D().style.width="".concat(U,"px"):Vn(D(),"width",a.width)}};new MutationObserver(_).observe(h,{attributes:!0,attributeFilter:["style"]})}}),h};var hm=function(a,l){var f=ee();f&&(Io(f),wt(f,l,"htmlContainer"),l.html?(xo(l.html,f),Fe(f,"block")):l.text?(f.textContent=l.text,Fe(f,"block")):Ke(f),lm(a,l))},pm=function(a,l){var f=lt();f&&(Io(f),Jr(f,l.footer,"block"),l.footer&&xo(l.footer,f),wt(f,l,"footer"))},mm=function(a,l){var f=we.innerParams.get(a),_=j();if(_){if(f&&l.icon===f.icon){cc(_,l),lc(_,l);return}if(!l.icon&&!l.iconHtml){Ke(_);return}if(l.icon&&Object.keys(T).indexOf(l.icon)===-1){ie('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(l.icon,'"')),Ke(_);return}Fe(_),cc(_,l),lc(_,l),oe(_,l.showClass&&l.showClass.icon)}},lc=function(a,l){for(var f=0,_=Object.entries(T);f<_.length;f++){var E=F(_[f],2),U=E[0],X=E[1];l.icon!==U&&jt(a,X)}oe(a,l.icon&&T[l.icon]),vm(a,l),gm(),wt(a,l,"icon")},gm=function(){var a=D();if(a)for(var l=window.getComputedStyle(a).getPropertyValue("background-color"),f=a.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),_=0;_<f.length;_++)f[_].style.backgroundColor=l},_m=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,wm=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,cc=function(a,l){if(!(!l.icon&&!l.iconHtml)){var f=a.innerHTML,_="";if(l.iconHtml)_=uc(l.iconHtml);else if(l.icon==="success")_=_m,f=f.replace(/ style=".*?"/g,"");else if(l.icon==="error")_=wm;else if(l.icon){var E={question:"?",warning:"!",info:"i"};_=uc(E[l.icon])}f.trim()!==_.trim()&&ct(a,_)}},vm=function(a,l){if(l.iconColor){a.style.color=l.iconColor,a.style.borderColor=l.iconColor;for(var f=0,_=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];f<_.length;f++){var E=_[f];rc(a,E,"backgroundColor",l.iconColor)}rc(a,".swal2-success-ring","borderColor",l.iconColor)}},uc=function(a){return'<div class="'.concat(C["icon-content"],'">').concat(a,"</div>")},ym=function(a,l){var f=pe();if(f){if(!l.imageUrl){Ke(f);return}Fe(f,""),f.setAttribute("src",l.imageUrl),f.setAttribute("alt",l.imageAlt||""),Vn(f,"width",l.imageWidth),Vn(f,"height",l.imageHeight),f.className=C.image,wt(f,l,"image")}},bm=function(a,l){var f=k(),_=D();if(!(!f||!_)){if(l.toast){Vn(f,"width",l.width),_.style.width="100%";var E=Yt();E&&_.insertBefore(E,j())}else Vn(_,"width",l.width);Vn(_,"padding",l.padding),l.color&&(_.style.color=l.color),l.background&&(_.style.background=l.background),Ke(be()),Cm(_,l)}},Cm=function(a,l){var f=l.showClass||{};a.className="".concat(C.popup," ").concat(ut(a)?f.popup:""),l.toast?(oe([document.documentElement,document.body],C["toast-shown"]),oe(a,C.toast)):oe(a,C.modal),wt(a,l,"popup"),typeof l.customClass=="string"&&oe(a,l.customClass),l.icon&&oe(a,C["icon-".concat(l.icon)])},Em=function(a,l){var f=ce();if(f){var _=l.progressSteps,E=l.currentProgressStep;if(!_||_.length===0||E===void 0){Ke(f);return}Fe(f),f.textContent="",E>=_.length&&B("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_.forEach(function(U,X){var te=Sm(U);if(f.appendChild(te),X===E&&oe(te,C["active-progress-step"]),X!==_.length-1){var Ce=Im(l);f.appendChild(Ce)}})}},Sm=function(a){var l=document.createElement("li");return oe(l,C["progress-step"]),ct(l,a),l},Im=function(a){var l=document.createElement("li");return oe(l,C["progress-step-line"]),a.progressStepsDistance&&Vn(l,"width",a.progressStepsDistance),l},Tm=function(a,l){var f=Q();f&&(Io(f),Jr(f,l.title||l.titleText,"block"),l.title&&xo(l.title,f),l.titleText&&(f.innerText=l.titleText),wt(f,l,"title"))},dc=function(a,l){bm(a,l),rm(a,l),Em(a,l),mm(a,l),ym(a,l),Tm(a,l),nm(a,l),hm(a,l),Zp(a,l),pm(a,l);var f=D();typeof l.didRender=="function"&&f&&l.didRender(f)},xm=function(){return ut(D())},fc=function(){var a;return(a=xe())===null||a===void 0?void 0:a.click()},Am=function(){var a;return(a=Wt())===null||a===void 0?void 0:a.click()},Pm=function(){var a;return(a=at())===null||a===void 0?void 0:a.click()},gr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),hc=function(a){a.keydownTarget&&a.keydownHandlerAdded&&(a.keydownTarget.removeEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!1)},km=function(a,l,f){hc(a),l.toast||(a.keydownHandler=function(_){return Om(l,_,f)},a.keydownTarget=l.keydownListenerCapture?window:D(),a.keydownListenerCapture=l.keydownListenerCapture,a.keydownTarget.addEventListener("keydown",a.keydownHandler,{capture:a.keydownListenerCapture}),a.keydownHandlerAdded=!0)},ko=function(a,l){var f,_=Eo();if(_.length){a=a+l,a===_.length?a=0:a===-1&&(a=_.length-1),_[a].focus();return}(f=D())===null||f===void 0||f.focus()},pc=["ArrowRight","ArrowDown"],Rm=["ArrowLeft","ArrowUp"],Om=function(a,l,f){a&&(l.isComposing||l.keyCode===229||(a.stopKeydownPropagation&&l.stopPropagation(),l.key==="Enter"?Nm(l,a):l.key==="Tab"?Dm(l):[].concat(pc,Rm).includes(l.key)?Mm(l.key):l.key==="Escape"&&Lm(l,a,f)))},Nm=function(a,l){if(S(l.allowEnterKey)){var f=Qi(D(),l.input);if(a.target&&f&&a.target instanceof HTMLElement&&a.target.outerHTML===f.outerHTML){if(["textarea","file"].includes(l.input))return;fc(),a.preventDefault()}}},Dm=function(a){for(var l=a.target,f=Eo(),_=-1,E=0;E<f.length;E++)if(l===f[E]){_=E;break}a.shiftKey?ko(_,-1):ko(_,1),a.stopPropagation(),a.preventDefault()},Mm=function(a){var l=Oe(),f=xe(),_=Wt(),E=at();if(!(!l||!f||!_||!E)){var U=[f,_,E];if(!(document.activeElement instanceof HTMLElement&&!U.includes(document.activeElement))){var X=pc.includes(a)?"nextElementSibling":"previousElementSibling",te=document.activeElement;if(te){for(var Ce=0;Ce<l.children.length;Ce++){if(te=te[X],!te)return;if(te instanceof HTMLButtonElement&&ut(te))break}te instanceof HTMLButtonElement&&te.focus()}}}},Lm=function(a,l,f){S(l.allowEscapeKey)&&(a.preventDefault(),f(gr.esc))},Zr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Fm=function(){var a=Array.from(document.body.children);a.forEach(function(l){l===k()||l.contains(k())||(l.hasAttribute("aria-hidden")&&l.setAttribute("data-previous-aria-hidden",l.getAttribute("aria-hidden")||""),l.setAttribute("aria-hidden","true"))})},mc=function(){var a=Array.from(document.body.children);a.forEach(function(l){l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")||""),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},gc=typeof window<"u"&&!!window.GestureEvent,Bm=function(){if(gc&&!Jt(document.body,C.iosfix)){var a=document.body.scrollTop;document.body.style.top="".concat(a*-1,"px"),oe(document.body,C.iosfix),Hm()}},Hm=function(){var a=k();if(a){var l;a.ontouchstart=function(f){l=Wm(f)},a.ontouchmove=function(f){l&&(f.preventDefault(),f.stopPropagation())}}},Wm=function(a){var l=a.target,f=k(),_=ee();return!f||!_||jm(a)||Um(a)?!1:l===f||!ic(f)&&l instanceof HTMLElement&&l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!(ic(_)&&_.contains(l))},jm=function(a){return a.touches&&a.touches.length&&a.touches[0].touchType==="stylus"},Um=function(a){return a.touches&&a.touches.length>1},Vm=function(){if(Jt(document.body,C.iosfix)){var a=parseInt(document.body.style.top,10);jt(document.body,C.iosfix),document.body.style.top="",document.body.scrollTop=a*-1}},$m=function(){var a=document.createElement("div");a.className=C["scrollbar-measure"],document.body.appendChild(a);var l=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),l},_r=null,zm=function(a){_r===null&&(document.body.scrollHeight>window.innerHeight||a==="scroll")&&(_r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(_r+$m(),"px"))},qm=function(){_r!==null&&(document.body.style.paddingRight="".concat(_r,"px"),_r=null)};function _c(h,a,l,f){Gi()?vc(h,f):(qe(l).then(function(){return vc(h,f)}),hc(G)),gc?(a.setAttribute("style","display:none !important"),a.removeAttribute("class"),a.innerHTML=""):a.remove(),So()&&(qm(),Vm(),mc()),Km()}function Km(){jt([document.documentElement,document.body],[C.shown,C["height-auto"],C["no-backdrop"],C["toast-shown"]])}function mn(h){h=Qm(h);var a=Zr.swalPromiseResolve.get(this),l=Gm(this);this.isAwaitingPromise?h.isDismissed||(ei(this),a(h)):l&&a(h)}var Gm=function(a){var l=D();if(!l)return!1;var f=we.innerParams.get(a);if(!f||Jt(l,f.hideClass.popup))return!1;jt(l,f.showClass.popup),oe(l,f.hideClass.popup);var _=k();return jt(_,f.showClass.backdrop),oe(_,f.hideClass.backdrop),Ym(a,l,f),!0};function wc(h){var a=Zr.swalPromiseReject.get(this);ei(this),a&&a(h)}var ei=function(a){a.isAwaitingPromise&&(delete a.isAwaitingPromise,we.innerParams.get(a)||a._destroy())},Qm=function(a){return typeof a>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},a)},Ym=function(a,l,f){var _=k(),E=zn&&sc(l);typeof f.willClose=="function"&&f.willClose(l),E?Jm(a,l,_,f.returnFocus,f.didClose):_c(a,_,f.returnFocus,f.didClose)},Jm=function(a,l,f,_,E){zn&&(G.swalCloseEventFinishedCallback=_c.bind(null,a,f,_,E),l.addEventListener(zn,function(U){U.target===l&&(G.swalCloseEventFinishedCallback(),delete G.swalCloseEventFinishedCallback)}))},vc=function(a,l){setTimeout(function(){typeof l=="function"&&l.bind(a.params)(),a._destroy&&a._destroy()})},wr=function(a){var l=D();if(l||new ts,l=D(),!!l){var f=Yt();Gi()?Ke(j()):Xm(l,a),Fe(f),l.setAttribute("data-loading","true"),l.setAttribute("aria-busy","true"),l.focus()}},Xm=function(a,l){var f=Oe(),_=Yt();!f||!_||(!l&&ut(xe())&&(l=xe()),Fe(f),l&&(Ke(l),_.setAttribute("data-button-to-replace",l.className),f.insertBefore(_,l)),oe([a,f],C.loading))},Zm=function(a,l){l.input==="select"||l.input==="radio"?ig(a,l):["text","email","number","tel","textarea"].some(function(f){return f===l.input})&&(x(l.inputValue)||L(l.inputValue))&&(wr(xe()),sg(a,l))},eg=function(a,l){var f=a.getInput();if(!f)return null;switch(l.input){case"checkbox":return tg(f);case"radio":return ng(f);case"file":return rg(f);default:return l.inputAutoTrim?f.value.trim():f.value}},tg=function(a){return a.checked?1:0},ng=function(a){return a.checked?a.value:null},rg=function(a){return a.files&&a.files.length?a.getAttribute("multiple")!==null?a.files:a.files[0]:null},ig=function(a,l){var f=D();if(f){var _=function(U){l.input==="select"?og(f,yc(U),l):l.input==="radio"&&ag(f,yc(U),l)};x(l.inputOptions)||L(l.inputOptions)?(wr(xe()),P(l.inputOptions).then(function(E){a.hideLoading(),_(E)})):r(l.inputOptions)==="object"?_(l.inputOptions):ie("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(r(l.inputOptions)))}},sg=function(a,l){var f=a.getInput();f&&(Ke(f),P(l.inputValue).then(function(_){f.value=l.input==="number"?"".concat(parseFloat(_)||0):"".concat(_),Fe(f),f.focus(),a.hideLoading()}).catch(function(_){ie("Error in inputValue promise: ".concat(_)),f.value="",Fe(f),f.focus(),a.hideLoading()}))};function og(h,a,l){var f=pn(h,C.select);if(f){var _=function(U,X,te){var Ce=document.createElement("option");Ce.value=te,ct(Ce,X),Ce.selected=bc(te,l.inputValue),U.appendChild(Ce)};a.forEach(function(E){var U=E[0],X=E[1];if(Array.isArray(X)){var te=document.createElement("optgroup");te.label=U,te.disabled=!1,f.appendChild(te),X.forEach(function(Ce){return _(te,Ce[1],Ce[0])})}else _(f,X,U)}),f.focus()}}function ag(h,a,l){var f=pn(h,C.radio);if(f){a.forEach(function(E){var U=E[0],X=E[1],te=document.createElement("input"),Ce=document.createElement("label");te.type="radio",te.name=C.radio,te.value=U,bc(U,l.inputValue)&&(te.checked=!0);var ti=document.createElement("span");ct(ti,X),ti.className=C.label,Ce.appendChild(te),Ce.appendChild(ti),f.appendChild(Ce)});var _=f.querySelectorAll("input");_.length&&_[0].focus()}}var yc=function h(a){var l=[];return a instanceof Map?a.forEach(function(f,_){var E=f;r(E)==="object"&&(E=h(E)),l.push([_,E])}):Object.keys(a).forEach(function(f){var _=a[f];r(_)==="object"&&(_=h(_)),l.push([f,_])}),l},bc=function(a,l){return!!l&&l.toString()===a.toString()},Ji=void 0,lg=function(a){var l=we.innerParams.get(a);a.disableButtons(),l.input?Cc(a,"confirm"):Oo(a,!0)},cg=function(a){var l=we.innerParams.get(a);a.disableButtons(),l.returnInputValueOnDeny?Cc(a,"deny"):Ro(a,!1)},ug=function(a,l){a.disableButtons(),l(gr.cancel)},Cc=function(a,l){var f=we.innerParams.get(a);if(!f.input){ie('The "input" parameter is needed to be set when using returnInputValueOn'.concat(M(l)));return}var _=a.getInput(),E=eg(a,f);f.inputValidator?dg(a,E,l):_&&!_.checkValidity()?(a.enableButtons(),a.showValidationMessage(f.validationMessage)):l==="deny"?Ro(a,E):Oo(a,E)},dg=function(a,l,f){var _=we.innerParams.get(a);a.disableInput();var E=Promise.resolve().then(function(){return P(_.inputValidator(l,_.validationMessage))});E.then(function(U){a.enableButtons(),a.enableInput(),U?a.showValidationMessage(U):f==="deny"?Ro(a,l):Oo(a,l)})},Ro=function(a,l){var f=we.innerParams.get(a||Ji);if(f.showLoaderOnDeny&&wr(Wt()),f.preDeny){a.isAwaitingPromise=!0;var _=Promise.resolve().then(function(){return P(f.preDeny(l,f.validationMessage))});_.then(function(E){E===!1?(a.hideLoading(),ei(a)):a.close({isDenied:!0,value:typeof E>"u"?l:E})}).catch(function(E){return Sc(a||Ji,E)})}else a.close({isDenied:!0,value:l})},Ec=function(a,l){a.close({isConfirmed:!0,value:l})},Sc=function(a,l){a.rejectPromise(l)},Oo=function(a,l){var f=we.innerParams.get(a||Ji);if(f.showLoaderOnConfirm&&wr(),f.preConfirm){a.resetValidationMessage(),a.isAwaitingPromise=!0;var _=Promise.resolve().then(function(){return P(f.preConfirm(l,f.validationMessage))});_.then(function(E){ut(be())||E===!1?(a.hideLoading(),ei(a)):Ec(a,typeof E>"u"?l:E)}).catch(function(E){return Sc(a||Ji,E)})}else Ec(a,l)};function Xi(){var h=we.innerParams.get(this);if(h){var a=we.domCache.get(this);Ke(a.loader),Gi()?h.icon&&Fe(j()):fg(a),jt([a.popup,a.actions],C.loading),a.popup.removeAttribute("aria-busy"),a.popup.removeAttribute("data-loading"),a.confirmButton.disabled=!1,a.denyButton.disabled=!1,a.cancelButton.disabled=!1}}var fg=function(a){var l=a.popup.getElementsByClassName(a.loader.getAttribute("data-button-to-replace"));l.length?Fe(l[0],"inline-block"):Up()&&Ke(a.actions)};function Ic(){var h=we.innerParams.get(this),a=we.domCache.get(this);return a?Qi(a.popup,h.input):null}function Tc(h,a,l){var f=we.domCache.get(h);a.forEach(function(_){f[_].disabled=l})}function xc(h,a){var l=D();if(!(!l||!h))if(h.type==="radio")for(var f=l.querySelectorAll('[name="'.concat(C.radio,'"]')),_=0;_<f.length;_++)f[_].disabled=a;else h.disabled=a}function Ac(){Tc(this,["confirmButton","denyButton","cancelButton"],!1)}function Pc(){Tc(this,["confirmButton","denyButton","cancelButton"],!0)}function kc(){xc(this.getInput(),!1)}function Rc(){xc(this.getInput(),!0)}function Oc(h){var a=we.domCache.get(this),l=we.innerParams.get(this);ct(a.validationMessage,h),a.validationMessage.className=C["validation-message"],l.customClass&&l.customClass.validationMessage&&oe(a.validationMessage,l.customClass.validationMessage),Fe(a.validationMessage);var f=this.getInput();f&&(f.setAttribute("aria-invalid","true"),f.setAttribute("aria-describedby",C["validation-message"]),tc(f),oe(f,C.inputerror))}function Nc(){var h=we.domCache.get(this);h.validationMessage&&Ke(h.validationMessage);var a=this.getInput();a&&(a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),jt(a,C.inputerror))}var vr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},hg=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],pg={},mg=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Dc=function(a){return Object.prototype.hasOwnProperty.call(vr,a)},Mc=function(a){return hg.indexOf(a)!==-1},Lc=function(a){return pg[a]},gg=function(a){Dc(a)||B('Unknown parameter "'.concat(a,'"'))},_g=function(a){mg.includes(a)&&B('The parameter "'.concat(a,'" is incompatible with toasts'))},wg=function(a){var l=Lc(a);l&&b(a,l)},vg=function(a){a.backdrop===!1&&a.allowOutsideClick&&B('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var l in a)gg(l),a.toast&&_g(l),wg(l)};function Fc(h){var a=D(),l=we.innerParams.get(this);if(!a||Jt(a,l.hideClass.popup)){B("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var f=yg(h),_=Object.assign({},l,f);dc(this,_),we.innerParams.set(this,_),Object.defineProperties(this,{params:{value:Object.assign({},this.params,h),writable:!1,enumerable:!0}})}var yg=function(a){var l={};return Object.keys(a).forEach(function(f){Mc(f)?l[f]=a[f]:B("Invalid parameter to update: ".concat(f))}),l};function Bc(){var h=we.domCache.get(this),a=we.innerParams.get(this);if(!a){Hc(this);return}h.popup&&G.swalCloseEventFinishedCallback&&(G.swalCloseEventFinishedCallback(),delete G.swalCloseEventFinishedCallback),typeof a.didDestroy=="function"&&a.didDestroy(),bg(this)}var bg=function(a){Hc(a),delete a.params,delete G.keydownHandler,delete G.keydownTarget,delete G.currentInstance},Hc=function(a){a.isAwaitingPromise?(No(we,a),a.isAwaitingPromise=!0):(No(Zr,a),No(we,a),delete a.isAwaitingPromise,delete a.disableButtons,delete a.enableButtons,delete a.getInput,delete a.disableInput,delete a.enableInput,delete a.hideLoading,delete a.disableLoading,delete a.showValidationMessage,delete a.resetValidationMessage,delete a.close,delete a.closePopup,delete a.closeModal,delete a.closeToast,delete a.rejectPromise,delete a.update,delete a._destroy)},No=function(a,l){for(var f in a)a[f].delete(l)},Cg=Object.freeze({__proto__:null,_destroy:Bc,close:mn,closeModal:mn,closePopup:mn,closeToast:mn,disableButtons:Pc,disableInput:Rc,disableLoading:Xi,enableButtons:Ac,enableInput:kc,getInput:Ic,handleAwaitingPromise:ei,hideLoading:Xi,rejectPromise:wc,resetValidationMessage:Nc,showValidationMessage:Oc,update:Fc}),Eg=function(a,l,f){a.toast?Sg(a,l,f):(Tg(l),xg(l),Ag(a,l,f))},Sg=function(a,l,f){l.popup.onclick=function(){a&&(Ig(a)||a.timer||a.input)||f(gr.close)}},Ig=function(a){return!!(a.showConfirmButton||a.showDenyButton||a.showCancelButton||a.showCloseButton)},Zi=!1,Tg=function(a){a.popup.onmousedown=function(){a.container.onmouseup=function(l){a.container.onmouseup=function(){},l.target===a.container&&(Zi=!0)}}},xg=function(a){a.container.onmousedown=function(){a.popup.onmouseup=function(l){a.popup.onmouseup=function(){},(l.target===a.popup||l.target instanceof HTMLElement&&a.popup.contains(l.target))&&(Zi=!0)}}},Ag=function(a,l,f){l.container.onclick=function(_){if(Zi){Zi=!1;return}_.target===l.container&&S(a.allowOutsideClick)&&f(gr.backdrop)}},Pg=function(a){return r(a)==="object"&&a.jquery},Wc=function(a){return a instanceof Element||Pg(a)},kg=function(a){var l={};return r(a[0])==="object"&&!Wc(a[0])?Object.assign(l,a[0]):["title","html","icon"].forEach(function(f,_){var E=a[_];typeof E=="string"||Wc(E)?l[f]=E:E!==void 0&&ie("Unexpected type of ".concat(f,'! Expected "string" or "Element", got ').concat(r(E)))}),l};function Rg(){for(var h=this,a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];return m(h,l)}function Og(h){var a=function(l){c(_,l);var f=I(_);function _(){return i(this,_),f.apply(this,arguments)}return o(_,[{key:"_main",value:function(U,X){return W(u(_.prototype),"_main",this).call(this,U,Object.assign({},h,X))}}]),_}(this);return a}var Ng=function(){return G.timeout&&G.timeout.getTimerLeft()},jc=function(){if(G.timeout)return Vp(),G.timeout.stop()},Uc=function(){if(G.timeout){var a=G.timeout.start();return To(a),a}},Dg=function(){var a=G.timeout;return a&&(a.running?jc():Uc())},Mg=function(a){if(G.timeout){var l=G.timeout.increase(a);return To(l,!0),l}},Lg=function(){return!!(G.timeout&&G.timeout.isRunning())},Vc=!1,Do={};function Fg(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Do[h]=this,Vc||(document.body.addEventListener("click",Bg),Vc=!0)}var Bg=function(a){for(var l=a.target;l&&l!==document;l=l.parentNode)for(var f in Do){var _=l.getAttribute(f);if(_){Do[f].fire({template:_});return}}},Hg=Object.freeze({__proto__:null,argsToParams:kg,bindClickHandler:Fg,clickCancel:Pm,clickConfirm:fc,clickDeny:Am,enableLoading:wr,fire:Rg,getActions:Oe,getCancelButton:at,getCloseButton:Co,getConfirmButton:xe,getContainer:k,getDenyButton:Wt,getFocusableElements:Eo,getFooter:lt,getHtmlContainer:ee,getIcon:j,getIconContent:z,getImage:pe,getInputLabel:jn,getLoader:Yt,getPopup:D,getProgressSteps:ce,getTimerLeft:Ng,getTimerProgressBar:Un,getTitle:Q,getValidationMessage:be,increaseTimer:Mg,isDeprecatedParameter:Lc,isLoading:Wp,isTimerRunning:Lg,isUpdatableParameter:Mc,isValidParameter:Dc,isVisible:xm,mixin:Og,resumeTimer:Uc,showLoading:wr,stopTimer:jc,toggleTimer:Dg}),Wg=function(){function h(a,l){i(this,h),this.callback=a,this.remaining=l,this.running=!1,this.start()}return o(h,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(l){var f=this.running;return f&&this.stop(),this.remaining+=l,f&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),h}(),$c=["swal-title","swal-html","swal-footer"],jg=function(a){var l=typeof a.template=="string"?document.querySelector(a.template):a.template;if(!l)return{};var f=l.content;Qg(f);var _=Object.assign(Ug(f),Vg(f),$g(f),zg(f),qg(f),Kg(f),Gg(f,$c));return _},Ug=function(a){var l={},f=Array.from(a.querySelectorAll("swal-param"));return f.forEach(function(_){qn(_,["name","value"]);var E=_.getAttribute("name"),U=_.getAttribute("value");typeof vr[E]=="boolean"?l[E]=U!=="false":r(vr[E])==="object"?l[E]=JSON.parse(U):l[E]=U}),l},Vg=function(a){var l={},f=Array.from(a.querySelectorAll("swal-function-param"));return f.forEach(function(_){var E=_.getAttribute("name"),U=_.getAttribute("value");l[E]=new Function("return ".concat(U))()}),l},$g=function(a){var l={},f=Array.from(a.querySelectorAll("swal-button"));return f.forEach(function(_){qn(_,["type","color","aria-label"]);var E=_.getAttribute("type");l["".concat(E,"ButtonText")]=_.innerHTML,l["show".concat(M(E),"Button")]=!0,_.hasAttribute("color")&&(l["".concat(E,"ButtonColor")]=_.getAttribute("color")),_.hasAttribute("aria-label")&&(l["".concat(E,"ButtonAriaLabel")]=_.getAttribute("aria-label"))}),l},zg=function(a){var l={},f=a.querySelector("swal-image");return f&&(qn(f,["src","width","height","alt"]),f.hasAttribute("src")&&(l.imageUrl=f.getAttribute("src")),f.hasAttribute("width")&&(l.imageWidth=f.getAttribute("width")),f.hasAttribute("height")&&(l.imageHeight=f.getAttribute("height")),f.hasAttribute("alt")&&(l.imageAlt=f.getAttribute("alt"))),l},qg=function(a){var l={},f=a.querySelector("swal-icon");return f&&(qn(f,["type","color"]),f.hasAttribute("type")&&(l.icon=f.getAttribute("type")),f.hasAttribute("color")&&(l.iconColor=f.getAttribute("color")),l.iconHtml=f.innerHTML),l},Kg=function(a){var l={},f=a.querySelector("swal-input");f&&(qn(f,["type","label","placeholder","value"]),l.input=f.getAttribute("type")||"text",f.hasAttribute("label")&&(l.inputLabel=f.getAttribute("label")),f.hasAttribute("placeholder")&&(l.inputPlaceholder=f.getAttribute("placeholder")),f.hasAttribute("value")&&(l.inputValue=f.getAttribute("value")));var _=Array.from(a.querySelectorAll("swal-input-option"));return _.length&&(l.inputOptions={},_.forEach(function(E){qn(E,["value"]);var U=E.getAttribute("value"),X=E.innerHTML;l.inputOptions[U]=X})),l},Gg=function(a,l){var f={};for(var _ in l){var E=l[_],U=a.querySelector(E);U&&(qn(U,[]),f[E.replace(/^swal-/,"")]=U.innerHTML.trim())}return f},Qg=function(a){var l=$c.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(a.children).forEach(function(f){var _=f.tagName.toLowerCase();l.includes(_)||B("Unrecognized element <".concat(_,">"))})},qn=function(a,l){Array.from(a.attributes).forEach(function(f){l.indexOf(f.name)===-1&&B(['Unrecognized attribute "'.concat(f.name,'" on <').concat(a.tagName.toLowerCase(),">."),"".concat(l.length?"Allowed attributes are: ".concat(l.join(", ")):"To set the value, use HTML within the element.")])})},zc=10,Yg=function(a){var l=k(),f=D();typeof a.willOpen=="function"&&a.willOpen(f);var _=window.getComputedStyle(document.body),E=_.overflowY;e_(l,f,a),setTimeout(function(){Xg(l,f)},zc),So()&&(Zg(l,a.scrollbarPadding,E),Fm()),!Gi()&&!G.previousActiveElement&&(G.previousActiveElement=document.activeElement),typeof a.didOpen=="function"&&setTimeout(function(){return a.didOpen(f)}),jt(l,C["no-transition"])},Jg=function h(a){var l=D();if(!(a.target!==l||!zn)){var f=k();l.removeEventListener(zn,h),f.style.overflowY="auto"}},Xg=function(a,l){zn&&sc(l)?(a.style.overflowY="hidden",l.addEventListener(zn,Jg)):a.style.overflowY="auto"},Zg=function(a,l,f){Bm(),l&&f!=="hidden"&&zm(f),setTimeout(function(){a.scrollTop=0})},e_=function(a,l,f){oe(a,f.showClass.backdrop),f.animation?(l.style.setProperty("opacity","0","important"),Fe(l,"grid"),setTimeout(function(){oe(l,f.showClass.popup),l.style.removeProperty("opacity")},zc)):Fe(l,"grid"),oe([document.documentElement,document.body],C.shown),f.heightAuto&&f.backdrop&&!f.toast&&oe([document.documentElement,document.body],C["height-auto"])},qc={email:function(a,l){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(a)?Promise.resolve():Promise.resolve(l||"Invalid email address")},url:function(a,l){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(a)?Promise.resolve():Promise.resolve(l||"Invalid URL")}};function t_(h){h.inputValidator||(h.input==="email"&&(h.inputValidator=qc.email),h.input==="url"&&(h.inputValidator=qc.url))}function n_(h){(!h.target||typeof h.target=="string"&&!document.querySelector(h.target)||typeof h.target!="string"&&!h.target.appendChild)&&(B('Target parameter is not valid, defaulting to "body"'),h.target="body")}function r_(h){t_(h),h.showLoaderOnConfirm&&!h.preConfirm&&B(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),n_(h),typeof h.title=="string"&&(h.title=h.title.split(`
`).join("<br />")),Yp(h)}var Ut,es=new WeakMap,ke=function(){function h(){if(i(this,h),le(this,es,{writable:!0,value:void 0}),!(typeof window>"u")){Ut=this;for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];var _=Object.freeze(this.constructor.argsToParams(l));this.params=_,this.isAwaitingPromise=!1,gt(this,es,this._main(Ut.params))}}return o(h,[{key:"_main",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vg(Object.assign({},f,l)),G.currentInstance&&(G.currentInstance._destroy(),So()&&mc()),G.currentInstance=Ut;var _=s_(l,f);r_(_),Object.freeze(_),G.timeout&&(G.timeout.stop(),delete G.timeout),clearTimeout(G.restoreFocusTimeout);var E=o_(Ut);return dc(Ut,_),we.innerParams.set(Ut,_),i_(Ut,E,_)}},{key:"then",value:function(l){return Ht(this,es).then(l)}},{key:"finally",value:function(l){return Ht(this,es).finally(l)}}]),h}(),i_=function(a,l,f){return new Promise(function(_,E){var U=function(te){a.close({isDismissed:!0,dismiss:te})};Zr.swalPromiseResolve.set(a,_),Zr.swalPromiseReject.set(a,E),l.confirmButton.onclick=function(){lg(a)},l.denyButton.onclick=function(){cg(a)},l.cancelButton.onclick=function(){ug(a,U)},l.closeButton.onclick=function(){U(gr.close)},Eg(f,l,U),km(G,f,U),Zm(a,f),Yg(f),a_(G,f,U),l_(l,f),setTimeout(function(){l.container.scrollTop=0})})},s_=function(a,l){var f=jg(a),_=Object.assign({},vr,l,f,a);return _.showClass=Object.assign({},vr.showClass,_.showClass),_.hideClass=Object.assign({},vr.hideClass,_.hideClass),_.animation===!1&&(_.showClass={backdrop:"swal2-noanimation"},_.hideClass={}),_},o_=function(a){var l={popup:D(),container:k(),actions:Oe(),confirmButton:xe(),denyButton:Wt(),cancelButton:at(),loader:Yt(),closeButton:Co(),validationMessage:be(),progressSteps:ce()};return we.domCache.set(a,l),l},a_=function(a,l,f){var _=Un();Ke(_),l.timer&&(a.timeout=new Wg(function(){f("timer"),delete a.timeout},l.timer),l.timerProgressBar&&(Fe(_),wt(_,l,"timerProgressBar"),setTimeout(function(){a.timeout&&a.timeout.running&&To(l.timer)})))},l_=function(a,l){if(!l.toast){if(!S(l.allowEnterKey)){u_();return}c_(a,l)||ko(-1,1)}},c_=function(a,l){return l.focusDeny&&ut(a.denyButton)?(a.denyButton.focus(),!0):l.focusCancel&&ut(a.cancelButton)?(a.cancelButton.focus(),!0):l.focusConfirm&&ut(a.confirmButton)?(a.confirmButton.focus(),!0):!1},u_=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Kc=new Date,Gc=localStorage.getItem("swal-initiation");Gc?(Kc.getTime()-Date.parse(Gc))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var h=document.createElement("audio");h.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",h.loop=!0,document.body.appendChild(h),setTimeout(function(){h.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Kc))}ke.prototype.disableButtons=Pc,ke.prototype.enableButtons=Ac,ke.prototype.getInput=Ic,ke.prototype.disableInput=Rc,ke.prototype.enableInput=kc,ke.prototype.hideLoading=Xi,ke.prototype.disableLoading=Xi,ke.prototype.showValidationMessage=Oc,ke.prototype.resetValidationMessage=Nc,ke.prototype.close=mn,ke.prototype.closePopup=mn,ke.prototype.closeModal=mn,ke.prototype.closeToast=mn,ke.prototype.rejectPromise=wc,ke.prototype.update=Fc,ke.prototype._destroy=Bc,Object.assign(ke,Hg),Object.keys(Cg).forEach(function(h){ke[h]=function(){if(Ut&&Ut[h]){var a;return(a=Ut)[h].apply(a,arguments)}return null}}),ke.DismissReason=gr,ke.version="11.10.0";var ts=ke;return ts.default=ts,ts}),typeof wn<"u"&&wn.Sweetalert2&&(wn.swal=wn.sweetAlert=wn.Swal=wn.SweetAlert=wn.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(Fp);var xI=Fp.exports;const AI=TI(xI);const PI={key:0,class:"message"},kI={key:1,class:"message"},RI={key:2,class:"message"},OI={class:"board"},NI=["onClick"],DI={__name:"HomeView",setup(t){const e=Xw(),n=Qn({name:"",value:"X"}),r=Qn(Array(9).fill("")),i=Qn(null),s=Qn(),o=Qn(""),c=Qn(""),u=vt(()=>Array.isArray(r.value)&&r.value.every(F=>F!=="")),d=Ai.database().ref("invite_requests"),p=Ai.database().ref("teams");var m=null;Ef(()=>{localStorage.getItem("xox_user")!=null&&localStorage.getItem("teamName")!=null?(o.value=JSON.parse(localStorage.getItem("xox_user")),c.value=JSON.parse(localStorage.getItem("teamName")),s.value=c.value.split("-"),n.value.name=s.value[0]):e.proxy.$router.push("/"),p.on("value",F=>{const $=F.val();$&&$.hasOwnProperty(c.value)?(m=p.child(c.value),R(),m.on("value",J=>{const V=J.val();V&&(n.value=V.currentPlayer,r.value=V.board?V.board:Array(9).fill(""),i.value=V.winner?V.winner:null)})):e.proxy.$router.push("/")})}),Sf(()=>{});const g=F=>{n.value.name===o.value?!r.value[F]&&!i.value&&(r.value[F]=n.value.value,y(),n.value.value=n.value.value==="X"?"O":"X",n.value.name=n.value.name===s.value[0]?s.value[1]:s.value[0],R()):alert("No ! Its not your turn bro.")},y=()=>{const F=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const $ of F){const[J,V,Ae]=$;if(r.value[J]&&r.value[J]===r.value[V]&&r.value[J]===r.value[Ae]){i.value=n.value.name;return}}u.value&&(i.value="Draw")},I=()=>{n.value.value="X",n.value.name=s.value[0],r.value=Array(9).fill(""),i.value=null,R()},R=()=>{m.set({currentPlayer:n.value,board:r.value,winner:i.value})},W=()=>{AI.fire({title:"Are you sure?",text:"Do you want to select another oponent ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2a8c00",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(async F=>{F.isConfirmed&&(d.update({[s.value[0]]:{is_accepted:3,from:o.value}}),p.child(c.value).remove(),localStorage.removeItem("teamName"),e.proxy.$router.push("/"))})};return(F,$)=>(en(),vn("main",null,[i.value?(en(),vn("div",PI,Lo(i.value===o.value?"You":i.value)+" wins!",1)):u.value?(en(),vn("div",kI,"It's a draw!")):(en(),vn("div",RI,Lo(n.value.name===o.value?"Your":n.value.name)+"'s turn",1)),Cn("div",OI,[(en(!0),vn(Pt,null,Sw(r.value,(J,V)=>(en(),vn("div",{key:V,onClick:Ae=>g(V)},Lo(J),9,NI))),128))]),i.value?(en(),vn("button",{key:3,onClick:I},"Restart Game")):Kw("",!0),Lf("           "),Cn("button",{style:{"background-color":"#454545",color:"white"},onClick:W},"Select Another Oppenent")]))}},MI=Ry({history:Gv("/TicTacToe/"),routes:[{path:"/",name:"home",component:()=>qo(()=>import("./AboutView-24191b08.js"),["assets/AboutView-24191b08.js","assets/AboutView-cc00c2f5.css"])},{path:"/play",name:"play",component:DI},{path:"/selectOponent",name:"selectOponent",component:()=>qo(()=>import("./SelectOponent-7bc8a6fe.js"),["assets/SelectOponent-7bc8a6fe.js","assets/SelectOponent-6032f200.css"])},{path:"/wait",name:"wait",component:()=>qo(()=>import("./waiting-101e2d79.js"),["assets/waiting-101e2d79.js","assets/waiting-a6ba4e17.css"])}]}),LI={apiKey:"AIzaSyCfvCTqInEbYBGL9n8B6OlUd37o_ga43K4",authDomain:"https://crickclub-265cd-default-rtdb.firebaseio.com",projectId:"crickclub-265cd",storageBucket:"crickclub-265cd.appspot.com",messagingSenderId:"996731428183",appId:"1:996731428183:ios:3530fee402011cbe41b212"};Ai.initializeApp(LI);const Bp=Av(Fy);Bp.use(MI);Bp.mount("#app");export{Pt as F,AI as S,en as a,Cn as b,vn as c,Sw as d,Lf as e,Ai as f,Xw as g,Ef as o,Qn as r,Lo as t,BI as v,FI as w};
